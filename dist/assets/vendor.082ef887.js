var H={exports:{}},z={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lf=Object.getOwnPropertySymbols,d0=Object.prototype.hasOwnProperty,p0=Object.prototype.propertyIsEnumerable;function m0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function g0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Vp=g0()?Object.assign:function(t,e){for(var n,r=m0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)d0.call(n,o)&&(r[o]=n[o]);if(lf){i=lf(n);for(var a=0;a<i.length;a++)p0.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Vp,Ar=60103,Up=60106;z.Fragment=60107;z.StrictMode=60108;z.Profiler=60114;var jp=60109,Bp=60110,zp=60112;z.Suspense=60113;var qp=60115,bp=60116;if(typeof Symbol=="function"&&Symbol.for){var ot=Symbol.for;Ar=ot("react.element"),Up=ot("react.portal"),z.Fragment=ot("react.fragment"),z.StrictMode=ot("react.strict_mode"),z.Profiler=ot("react.profiler"),jp=ot("react.provider"),Bp=ot("react.context"),zp=ot("react.forward_ref"),z.Suspense=ot("react.suspense"),qp=ot("react.memo"),bp=ot("react.lazy")}var uf=typeof Symbol=="function"&&Symbol.iterator;function y0(t){return t===null||typeof t!="object"?null:(t=uf&&t[uf]||t["@@iterator"],typeof t=="function"?t:null)}function rs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kp={};function Nr(t,e,n){this.props=t,this.context=e,this.refs=Kp,this.updater=n||Hp}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(rs(85));this.updater.enqueueSetState(this,t,e,"setState")};Nr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wp(){}Wp.prototype=Nr.prototype;function rc(t,e,n){this.props=t,this.context=e,this.refs=Kp,this.updater=n||Hp}var ic=rc.prototype=new Wp;ic.constructor=rc;nc(ic,Nr.prototype);ic.isPureReactComponent=!0;var sc={current:null},Gp=Object.prototype.hasOwnProperty,Qp={key:!0,ref:!0,__self:!0,__source:!0};function Yp(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gp.call(e,r)&&!Qp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ar,type:t,key:s,ref:o,props:i,_owner:sc.current}}function v0(t,e){return{$$typeof:Ar,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ar}function w0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cf=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w0(""+t.key):e.toString(36)}function Ks(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ar:case Up:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rl(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(cf,"$&/")+"/"),Ks(i,e,n,"",function(u){return u})):i!=null&&(oc(i)&&(i=v0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rl(s,a);o+=Ks(s,e,n,l,i)}else if(l=y0(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rl(s,a++),o+=Ks(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(rs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function xs(t,e,n){if(t==null)return t;var r=[],i=0;return Ks(t,r,"","",function(s){return e.call(n,s,i++)}),r}function E0(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Xp={current:null};function Rt(){var t=Xp.current;if(t===null)throw Error(rs(321));return t}var S0={ReactCurrentDispatcher:Xp,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:sc,IsSomeRendererActing:{current:!1},assign:nc};z.Children={map:xs,forEach:function(t,e,n){xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!oc(t))throw Error(rs(143));return t}};z.Component=Nr;z.PureComponent=rc;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;z.cloneElement=function(t,e,n){if(t==null)throw Error(rs(267,t));var r=nc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gp.call(e,l)&&!Qp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ar,type:t.type,key:i,ref:s,props:r,_owner:o}};z.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Bp,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:jp,_context:t},t.Consumer=t};z.createElement=Yp;z.createFactory=function(t){var e=Yp.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:zp,render:t}};z.isValidElement=oc;z.lazy=function(t){return{$$typeof:bp,_payload:{_status:-1,_result:t},_init:E0}};z.memo=function(t,e){return{$$typeof:qp,type:t,compare:e===void 0?null:e}};z.useCallback=function(t,e){return Rt().useCallback(t,e)};z.useContext=function(t,e){return Rt().useContext(t,e)};z.useDebugValue=function(){};z.useEffect=function(t,e){return Rt().useEffect(t,e)};z.useImperativeHandle=function(t,e,n){return Rt().useImperativeHandle(t,e,n)};z.useLayoutEffect=function(t,e){return Rt().useLayoutEffect(t,e)};z.useMemo=function(t,e){return Rt().useMemo(t,e)};z.useReducer=function(t,e,n){return Rt().useReducer(t,e,n)};z.useRef=function(t){return Rt().useRef(t)};z.useState=function(t){return Rt().useState(t)};z.version="17.0.2";H.exports=z;var p_=H.exports,Jp={exports:{}},st={},Zp={exports:{}},em={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var k=t.unstable_now();l(!0,k),l=null}catch(O){throw setTimeout(c,0),O}};e=function(k){l!==null?setTimeout(e,0,k):(l=k,setTimeout(c,0))},n=function(k,O){u=setTimeout(k,O)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,S=null,f=-1,h=5,m=0;t.unstable_shouldYield=function(){return t.unstable_now()>=m},i=function(){},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h=0<k?Math.floor(1e3/k):5};var y=new MessageChannel,v=y.port2;y.port1.onmessage=function(){if(S!==null){var k=t.unstable_now();m=k+h;try{S(!0,k)?v.postMessage(null):(w=!1,S=null)}catch(O){throw v.postMessage(null),O}}else w=!1},e=function(k){S=k,w||(w=!0,v.postMessage(null))},n=function(k,O){f=p(function(){k(t.unstable_now())},O)},r=function(){d(f),f=-1}}function x(k,O){var j=k.length;k.push(O);e:for(;;){var re=j-1>>>1,pe=k[re];if(pe!==void 0&&0<F(pe,O))k[re]=O,k[j]=pe,j=re;else break e}}function I(k){return k=k[0],k===void 0?null:k}function $(k){var O=k[0];if(O!==void 0){var j=k.pop();if(j!==O){k[0]=j;e:for(var re=0,pe=k.length;re<pe;){var on=2*(re+1)-1,an=k[on],Kr=on+1,Hn=k[Kr];if(an!==void 0&&0>F(an,j))Hn!==void 0&&0>F(Hn,an)?(k[re]=Hn,k[Kr]=j,re=Kr):(k[re]=an,k[on]=j,re=on);else if(Hn!==void 0&&0>F(Hn,j))k[re]=Hn,k[Kr]=j,re=Kr;else break e}}return O}return null}function F(k,O){var j=k.sortIndex-O.sortIndex;return j!==0?j:k.id-O.id}var D=[],de=[],Za=1,Xe=null,ke=3,Ns=!1,sn=!1,Hr=!1;function el(k){for(var O=I(de);O!==null;){if(O.callback===null)$(de);else if(O.startTime<=k)$(de),O.sortIndex=O.expirationTime,x(D,O);else break;O=I(de)}}function tl(k){if(Hr=!1,el(k),!sn)if(I(D)!==null)sn=!0,e(nl);else{var O=I(de);O!==null&&n(tl,O.startTime-k)}}function nl(k,O){sn=!1,Hr&&(Hr=!1,r()),Ns=!0;var j=ke;try{for(el(O),Xe=I(D);Xe!==null&&(!(Xe.expirationTime>O)||k&&!t.unstable_shouldYield());){var re=Xe.callback;if(typeof re=="function"){Xe.callback=null,ke=Xe.priorityLevel;var pe=re(Xe.expirationTime<=O);O=t.unstable_now(),typeof pe=="function"?Xe.callback=pe:Xe===I(D)&&$(D),el(O)}else $(D);Xe=I(D)}if(Xe!==null)var on=!0;else{var an=I(de);an!==null&&n(tl,an.startTime-O),on=!1}return on}finally{Xe=null,ke=j,Ns=!1}}var f0=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){sn||Ns||(sn=!0,e(nl))},t.unstable_getCurrentPriorityLevel=function(){return ke},t.unstable_getFirstCallbackNode=function(){return I(D)},t.unstable_next=function(k){switch(ke){case 1:case 2:case 3:var O=3;break;default:O=ke}var j=ke;ke=O;try{return k()}finally{ke=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=f0,t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var j=ke;ke=k;try{return O()}finally{ke=j}},t.unstable_scheduleCallback=function(k,O,j){var re=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?re+j:re):j=re,k){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=j+pe,k={id:Za++,callback:O,priorityLevel:k,startTime:j,expirationTime:pe,sortIndex:-1},j>re?(k.sortIndex=j,x(de,k),I(D)===null&&k===I(de)&&(Hr?r():Hr=!0,n(tl,j-re))):(k.sortIndex=pe,x(D,k),sn||Ns||(sn=!0,e(nl))),k},t.unstable_wrapCallback=function(k){var O=ke;return function(){var j=ke;ke=O;try{return k.apply(this,arguments)}finally{ke=j}}}})(em);Zp.exports=em;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=H.exports,ee=Vp,he=Zp.exports;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!na)throw Error(T(227));var tm=new Set,Ri={};function Mn(t,e){mr(t,e),mr(t+"Capture",e)}function mr(t,e){for(Ri[t]=e,t=0;t<e.length;t++)tm.add(e[t])}var At=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),T0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf=Object.prototype.hasOwnProperty,ff={},df={};function I0(t){return hf.call(df,t)?!0:hf.call(ff,t)?!1:T0.test(t)?df[t]=!0:(ff[t]=!0,!1)}function k0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C0(t,e,n,r){if(e===null||typeof e=="undefined"||k0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ac,lc);Se[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ac,lc);Se[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ac,lc);Se[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function uc(t,e,n,r){var i=Se.hasOwnProperty(e)?Se[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(C0(e,n,i,r)&&(n=null),r||i===null?I0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oi=60103,cn=60106,$t=60107,cc=60108,di=60114,hc=60109,fc=60110,ra=60112,pi=60113,lo=60120,ia=60115,dc=60116,pc=60121,mc=60128,nm=60129,gc=60130,Bl=60131;if(typeof Symbol=="function"&&Symbol.for){var ue=Symbol.for;oi=ue("react.element"),cn=ue("react.portal"),$t=ue("react.fragment"),cc=ue("react.strict_mode"),di=ue("react.profiler"),hc=ue("react.provider"),fc=ue("react.context"),ra=ue("react.forward_ref"),pi=ue("react.suspense"),lo=ue("react.suspense_list"),ia=ue("react.memo"),dc=ue("react.lazy"),pc=ue("react.block"),ue("react.scope"),mc=ue("react.opaque.id"),nm=ue("react.debug_trace_mode"),gc=ue("react.offscreen"),Bl=ue("react.legacy_hidden")}var pf=typeof Symbol=="function"&&Symbol.iterator;function Wr(t){return t===null||typeof t!="object"?null:(t=pf&&t[pf]||t["@@iterator"],typeof t=="function"?t:null)}var il;function ai(t){if(il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var sl=!1;function Rs(t,e){if(!t||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function _0(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=Rs(t.type,!1),t;case 11:return t=Rs(t.type.render,!1),t;case 22:return t=Rs(t.type._render,!1),t;case 1:return t=Rs(t.type,!0),t;default:return""}}function ir(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $t:return"Fragment";case cn:return"Portal";case di:return"Profiler";case cc:return"StrictMode";case pi:return"Suspense";case lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fc:return(t.displayName||"Context")+".Consumer";case hc:return(t._context.displayName||"Context")+".Provider";case ra:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ia:return ir(t.type);case pc:return ir(t._render);case dc:e=t._payload,t=t._init;try{return ir(t(e))}catch{}}return null}function Ht(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function rm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A0(t){var e=rm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ds(t){t._valueTracker||(t._valueTracker=A0(t))}function im(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function zl(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function mf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ht(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sm(t,e){e=e.checked,e!=null&&uc(t,"checked",e,!1)}function ql(t,e){sm(t,e);var n=Ht(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Ht(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function N0(t){var e="";return na.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Hl(t,e){return t=ee({children:void 0},e),(e=N0(e.children))&&(t.children=e),t}function sr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ht(n)}}function om(t,e){var n=Ht(e.value),r=Ht(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Wl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function am(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?am(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,lm=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Wl.svg||"innerHTML"in t)t.innerHTML=e;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(t){x0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mi[e]=mi[t]})});function um(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mi.hasOwnProperty(t)&&mi[t]?(""+e).trim():e+"px"}function cm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=um(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var R0=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(t,e){if(e){if(R0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Yl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,or=null,ar=null;function wf(t){if(t=ss(t)){if(typeof Xl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ca(e),Xl(t.stateNode,t.type,e))}}function hm(t){or?ar?ar.push(t):ar=[t]:or=t}function fm(){if(or){var t=or,e=ar;if(ar=or=null,wf(t),e)for(t=0;t<e.length;t++)wf(e[t])}}function vc(t,e){return t(e)}function dm(t,e,n,r,i){return t(e,n,r,i)}function wc(){}var pm=vc,hn=!1,ol=!1;function Ec(){(or!==null||ar!==null)&&(wc(),fm())}function D0(t,e,n){if(ol)return t(e,n);ol=!0;try{return pm(t,e,n)}finally{ol=!1,Ec()}}function $i(t,e){var n=t.stateNode;if(n===null)return null;var r=ca(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Jl=!1;if(At)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Jl=!1}function $0(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gi=!1,co=null,ho=!1,Zl=null,P0={onError:function(t){gi=!0,co=t}};function L0(t,e,n,r,i,s,o,a,l){gi=!1,co=null,$0.apply(P0,arguments)}function O0(t,e,n,r,i,s,o,a,l){if(L0.apply(this,arguments),gi){if(gi){var u=co;gi=!1,co=null}else throw Error(T(198));ho||(ho=!0,Zl=u)}}function Vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ef(t){if(Vn(t)!==t)throw Error(T(188))}function M0(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ef(i),t;if(s===r)return Ef(i),e;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function gm(t){if(t=M0(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Sf(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var ym,Sc,vm,wm,eu=!1,ct=[],Mt=null,Ft=null,Vt=null,Pi=new Map,Li=new Map,Qr=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function If(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(e.pointerId)}}function Yr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=tu(e,n,r,i,s),e!==null&&(e=ss(e),e!==null&&Sc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F0(t,e,n,r,i){switch(e){case"focusin":return Mt=Yr(Mt,t,e,n,r,i),!0;case"dragenter":return Ft=Yr(Ft,t,e,n,r,i),!0;case"mouseover":return Vt=Yr(Vt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pi.set(s,Yr(Pi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Li.set(s,Yr(Li.get(s)||null,t,e,n,r,i)),!0}return!1}function V0(t){var e=fn(t.target);if(e!==null){var n=Vn(e);if(n!==null){if(e=n.tag,e===13){if(e=mm(n),e!==null){t.blockedOn=e,wm(t.lanePriority,function(){he.unstable_runWithPriority(t.priority,function(){vm(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=ss(n),e!==null&&Sc(e),t.blockedOn=n,!1;e.shift()}return!0}function kf(t,e,n){Ws(t)&&n.delete(e)}function U0(){for(eu=!1;0<ct.length;){var t=ct[0];if(t.blockedOn!==null){t=ss(t.blockedOn),t!==null&&ym(t);break}for(var e=t.targetContainers;0<e.length;){var n=Cc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&ct.shift()}Mt!==null&&Ws(Mt)&&(Mt=null),Ft!==null&&Ws(Ft)&&(Ft=null),Vt!==null&&Ws(Vt)&&(Vt=null),Pi.forEach(kf),Li.forEach(kf)}function Xr(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,he.unstable_scheduleCallback(he.unstable_NormalPriority,U0)))}function Em(t){function e(i){return Xr(i,t)}if(0<ct.length){Xr(ct[0],t);for(var n=1;n<ct.length;n++){var r=ct[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&Xr(Mt,t),Ft!==null&&Xr(Ft,t),Vt!==null&&Xr(Vt,t),Pi.forEach(e),Li.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&Qr.shift()}function Ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yn={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},al={},Sm={};At&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function sa(t){if(al[t])return al[t];if(!Yn[t])return t;var e=Yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sm)return al[t]=e[n];return t}var Tm=sa("animationend"),Im=sa("animationiteration"),km=sa("animationstart"),Cm=sa("transitionend"),_m=new Map,Tc=new Map,j0=["abort","abort",Tm,"animationEnd",Im,"animationIteration",km,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Cm,"transitionEnd","waiting","waiting"];function Ic(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Tc.set(r,e),_m.set(r,i),Mn(i,[r])}}var B0=he.unstable_now;B0();var W=8;function Gn(t){if((1&t)!==0)return W=15,1;if((2&t)!==0)return W=14,2;if((4&t)!==0)return W=13,4;var e=24&t;return e!==0?(W=12,e):(t&32)!==0?(W=11,32):(e=192&t,e!==0?(W=10,e):(t&256)!==0?(W=9,256):(e=3584&t,e!==0?(W=8,e):(t&4096)!==0?(W=7,4096):(e=4186112&t,e!==0?(W=6,e):(e=62914560&t,e!==0?(W=5,e):t&67108864?(W=4,67108864):(t&134217728)!==0?(W=3,134217728):(e=805306368&t,e!==0?(W=2,e):(1073741824&t)!==0?(W=1,1073741824):(W=8,t))))))}function z0(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function q0(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(T(358,t))}}function Oi(t,e){var n=t.pendingLanes;if(n===0)return W=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)r=s,i=W=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Gn(l),i=W):(a&=s,a!==0&&(r=Gn(a),i=W))}else s=n&~o,s!==0?(r=Gn(s),i=W):a!==0&&(r=Gn(a),i=W);if(r===0)return 0;if(r=31-Kt(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(Gn(e),i<=W)return e;W=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),i=1<<n,r|=t[n],e&=~i;return r}function Am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fo(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Qn(24&~e),t===0?fo(10,e):t;case 10:return t=Qn(192&~e),t===0?fo(8,e):t;case 8:return t=Qn(3584&~e),t===0&&(t=Qn(4186112&~e),t===0&&(t=512)),t;case 2:return e=Qn(805306368&~e),e===0&&(e=268435456),e}throw Error(T(358,t))}function Qn(t){return t&-t}function ll(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oa(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Kt(e),t[e]=n}var Kt=Math.clz32?Math.clz32:K0,b0=Math.log,H0=Math.LN2;function K0(t){return t===0?32:31-(b0(t)/H0|0)|0}var W0=he.unstable_UserBlockingPriority,G0=he.unstable_runWithPriority,Gs=!0;function Q0(t,e,n,r){hn||wc();var i=kc,s=hn;hn=!0;try{dm(i,t,e,n,r)}finally{(hn=s)||Ec()}}function Y0(t,e,n,r){G0(W0,kc.bind(null,t,e,n,r))}function kc(t,e,n,r){if(Gs){var i;if((i=(e&4)===0)&&0<ct.length&&-1<Tf.indexOf(t))t=tu(null,t,e,n,r),ct.push(t);else{var s=Cc(t,e,n,r);if(s===null)i&&If(t,r);else{if(i){if(-1<Tf.indexOf(t)){t=tu(s,t,e,n,r),ct.push(t);return}if(F0(s,t,e,n,r))return;If(t,r)}jm(t,e,r,null,n)}}}}function Cc(t,e,n,r){var i=yc(r);if(i=fn(i),i!==null){var s=Vn(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=mm(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jm(t,e,r,i,n),null}var Pt=null,_c=null,Qs=null;function Nm(){if(Qs)return Qs;var t,e=_c,n=e.length,r,i="value"in Pt?Pt.value:Pt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qs=i.slice(t,1<r?1-r:void 0)}function Ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ls(){return!0}function Cf(){return!1}function Ye(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ls:Cf,this.isPropagationStopped=Cf,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),e}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Ye(xr),is=ee({},xr,{view:0,detail:0}),X0=Ye(is),ul,cl,Jr,aa=ee({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jr&&(Jr&&t.type==="mousemove"?(ul=t.screenX-Jr.screenX,cl=t.screenY-Jr.screenY):cl=ul=0,Jr=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),_f=Ye(aa),J0=ee({},aa,{dataTransfer:0}),Z0=Ye(J0),ew=ee({},is,{relatedTarget:0}),hl=Ye(ew),tw=ee({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),nw=Ye(tw),rw=ee({},xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iw=Ye(rw),sw=ee({},xr,{data:0}),Af=Ye(sw),ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lw[t])?!!e[t]:!1}function Nc(){return uw}var cw=ee({},is,{key:function(t){if(t.key){var e=ow[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hw=Ye(cw),fw=ee({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=Ye(fw),dw=ee({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),pw=Ye(dw),mw=ee({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=Ye(mw),yw=ee({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vw=Ye(yw),ww=[9,13,27,32],xc=At&&"CompositionEvent"in window,yi=null;At&&"documentMode"in document&&(yi=document.documentMode);var Ew=At&&"TextEvent"in window&&!yi,xm=At&&(!xc||yi&&8<yi&&11>=yi),xf=String.fromCharCode(32),Rf=!1;function Rm(t,e){switch(t){case"keyup":return ww.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xn=!1;function Sw(t,e){switch(t){case"compositionend":return Dm(e);case"keypress":return e.which!==32?null:(Rf=!0,xf);case"textInput":return t=e.data,t===xf&&Rf?null:t;default:return null}}function Tw(t,e){if(Xn)return t==="compositionend"||!xc&&Rm(t,e)?(t=Nm(),Qs=_c=Pt=null,Xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xm&&e.locale!=="ko"?null:e.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iw[t.type]:e==="textarea"}function $m(t,e,n,r){hm(r),e=po(e,"onChange"),0<e.length&&(n=new Ac("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vi=null,Mi=null;function kw(t){Fm(t,0)}function la(t){var e=Zn(t);if(im(e))return t}function Cw(t,e){if(t==="change")return e}var Pm=!1;if(At){var fl;if(At){var dl="oninput"in document;if(!dl){var $f=document.createElement("div");$f.setAttribute("oninput","return;"),dl=typeof $f.oninput=="function"}fl=dl}else fl=!1;Pm=fl&&(!document.documentMode||9<document.documentMode)}function Pf(){vi&&(vi.detachEvent("onpropertychange",Lm),Mi=vi=null)}function Lm(t){if(t.propertyName==="value"&&la(Mi)){var e=[];if($m(e,Mi,t,yc(t)),t=kw,hn)t(e);else{hn=!0;try{vc(t,e)}finally{hn=!1,Ec()}}}}function _w(t,e,n){t==="focusin"?(Pf(),vi=e,Mi=n,vi.attachEvent("onpropertychange",Lm)):t==="focusout"&&Pf()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return la(Mi)}function Nw(t,e){if(t==="click")return la(e)}function xw(t,e){if(t==="input"||t==="change")return la(e)}function Rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:Rw,Dw=Object.prototype.hasOwnProperty;function Fi(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Dw.call(e,n[r])||!Je(t[n[r]],e[n[r]]))return!1;return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Of(t,e){var n=Lf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lf(n)}}function Om(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Om(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mf(){for(var t=window,e=uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uo(t.document)}return e}function nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var $w=At&&"documentMode"in document&&11>=document.documentMode,Jn=null,ru=null,wi=null,iu=!1;function Ff(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Jn==null||Jn!==uo(r)||(r=Jn,"selectionStart"in r&&nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wi&&Fi(wi,r)||(wi=r,r=po(ru,"onSelect"),0<r.length&&(e=new Ac("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jn)))}Ic("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ic("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ic(j0,2);for(var Vf="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),pl=0;pl<Vf.length;pl++)Tc.set(Vf[pl],0);mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Uf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O0(r,e,void 0,t),t.currentTarget=null}function Fm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Uf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Uf(i,a,u),s=l}}}if(ho)throw t=Zl,ho=!1,Zl=null,t}function Q(t,e){var n=zm(e),r=t+"__bubble";n.has(r)||(Um(e,t,2,!1),n.add(r))}var jf="_reactListening"+Math.random().toString(36).slice(2);function Vm(t){t[jf]||(t[jf]=!0,tm.forEach(function(e){Mm.has(e)||Bf(e,!1,t,null),Bf(e,!0,t,null)}))}function Bf(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&Mm.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=zm(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Um(s,t,i,e),o.add(a))}function Um(t,e,n,r){var i=Tc.get(e);switch(i===void 0?2:i){case 0:i=Q0;break;case 1:i=Y0;break;default:i=kc}n=i.bind(null,e,n,t),i=void 0,!Jl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jm(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}D0(function(){var u=s,c=yc(n),p=[];e:{var d=_m.get(t);if(d!==void 0){var g=Ac,w=t;switch(t){case"keypress":if(Ys(n)===0)break e;case"keydown":case"keyup":g=hw;break;case"focusin":w="focus",g=hl;break;case"focusout":w="blur",g=hl;break;case"beforeblur":case"afterblur":g=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pw;break;case Tm:case Im:case km:g=nw;break;case Cm:g=gw;break;case"scroll":g=X0;break;case"wheel":g=vw;break;case"copy":case"cut":case"paste":g=iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Nf}var S=(e&4)!==0,f=!S&&t==="scroll",h=S?d!==null?d+"Capture":null:d;S=[];for(var m=u,y;m!==null;){y=m;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,h!==null&&(v=$i(m,h),v!=null&&S.push(Vi(m,v,y)))),f)break;m=m.return}0<S.length&&(d=new g(d,w,null,n,c),p.push({event:d,listeners:S}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&(e&16)===0&&(w=n.relatedTarget||n.fromElement)&&(fn(w)||w[Rr]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?fn(w):null,w!==null&&(f=Vn(w),w!==f||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(S=_f,v="onMouseLeave",h="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(S=Nf,v="onPointerLeave",h="onPointerEnter",m="pointer"),f=g==null?d:Zn(g),y=w==null?d:Zn(w),d=new S(v,m+"leave",g,n,c),d.target=f,d.relatedTarget=y,v=null,fn(c)===u&&(S=new S(h,m+"enter",w,n,c),S.target=y,S.relatedTarget=f,v=S),f=v,g&&w)t:{for(S=g,h=w,m=0,y=S;y;y=Kn(y))m++;for(y=0,v=h;v;v=Kn(v))y++;for(;0<m-y;)S=Kn(S),m--;for(;0<y-m;)h=Kn(h),y--;for(;m--;){if(S===h||h!==null&&S===h.alternate)break t;S=Kn(S),h=Kn(h)}S=null}else S=null;g!==null&&zf(p,d,g,S,!1),w!==null&&f!==null&&zf(p,f,w,S,!0)}}e:{if(d=u?Zn(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var x=Cw;else if(Df(d))if(Pm)x=xw;else{x=Aw;var I=_w}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Nw);if(x&&(x=x(t,u))){$m(p,x,n,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&bl(d,"number",d.value)}switch(I=u?Zn(u):window,t){case"focusin":(Df(I)||I.contentEditable==="true")&&(Jn=I,ru=u,wi=null);break;case"focusout":wi=ru=Jn=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Ff(p,n,c);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Ff(p,n,c)}var $;if(xc)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Xn?Rm(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(xm&&n.locale!=="ko"&&(Xn||F!=="onCompositionStart"?F==="onCompositionEnd"&&Xn&&($=Nm()):(Pt=c,_c="value"in Pt?Pt.value:Pt.textContent,Xn=!0)),I=po(u,F),0<I.length&&(F=new Af(F,t,null,n,c),p.push({event:F,listeners:I}),$?F.data=$:($=Dm(n),$!==null&&(F.data=$)))),($=Ew?Sw(t,n):Tw(t,n))&&(u=po(u,"onBeforeInput"),0<u.length&&(c=new Af("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=$))}Fm(p,e)})}function Vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function po(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$i(t,n),s!=null&&r.unshift(Vi(t,s,i)),s=$i(t,e),s!=null&&r.push(Vi(t,s,i))),t=t.return}return r}function Kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zf(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=$i(n,s),l!=null&&o.unshift(Vi(n,l,a))):i||(l=$i(n,s),l!=null&&o.push(Vi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function mo(){}var ml=null,gl=null;function Bm(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function su(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0;function Rc(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function bf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=0;function Lw(t){return{$$typeof:mc,toString:t,valueOf:t}}var ua=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ua,go="__reactProps$"+ua,Rr="__reactContainer$"+ua,Hf="__reactEvents$"+ua;function fn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bf(t);t!==null;){if(n=t[Lt])return n;t=bf(t)}return e}t=n,n=t.parentNode}return null}function ss(t){return t=t[Lt]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ca(t){return t[go]||null}function zm(t){var e=t[Hf];return e===void 0&&(e=t[Hf]=new Set),e}var ou=[],er=-1;function en(t){return{current:t}}function Y(t){0>er||(t.current=ou[er],ou[er]=null,er--)}function ne(t,e){er++,ou[er]=t.current,t.current=e}var Wt={},De=en(Wt),qe=en(!1),In=Wt;function gr(t,e){var n=t.type.contextTypes;if(!n)return Wt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function be(t){return t=t.childContextTypes,t!=null}function yo(){Y(qe),Y(De)}function Kf(t,e,n){if(De.current!==Wt)throw Error(T(168));ne(De,e),ne(qe,n)}function qm(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(T(108,ir(e)||"Unknown",i));return ee({},n,r)}function Xs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,In=De.current,ne(De,t),ne(qe,qe.current),!0}function Wf(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=qm(t,e,In),r.__reactInternalMemoizedMergedChildContext=t,Y(qe),Y(De),ne(De,t)):Y(qe),ne(qe,n)}var Dc=null,wn=null,Ow=he.unstable_runWithPriority,$c=he.unstable_scheduleCallback,au=he.unstable_cancelCallback,Mw=he.unstable_shouldYield,Gf=he.unstable_requestPaint,lu=he.unstable_now,Fw=he.unstable_getCurrentPriorityLevel,ha=he.unstable_ImmediatePriority,bm=he.unstable_UserBlockingPriority,Hm=he.unstable_NormalPriority,Km=he.unstable_LowPriority,Wm=he.unstable_IdlePriority,vl={},Vw=Gf!==void 0?Gf:function(){},wt=null,Js=null,wl=!1,Qf=lu(),Ae=1e4>Qf?lu:function(){return lu()-Qf};function yr(){switch(Fw()){case ha:return 99;case bm:return 98;case Hm:return 97;case Km:return 96;case Wm:return 95;default:throw Error(T(332))}}function Gm(t){switch(t){case 99:return ha;case 98:return bm;case 97:return Hm;case 96:return Km;case 95:return Wm;default:throw Error(T(332))}}function kn(t,e){return t=Gm(t),Ow(t,e)}function Ui(t,e,n){return t=Gm(t),$c(t,e,n)}function yt(){if(Js!==null){var t=Js;Js=null,au(t)}Qm()}function Qm(){if(!wl&&wt!==null){wl=!0;var t=0;try{var e=wt;kn(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),wt=null}catch(n){throw wt!==null&&(wt=wt.slice(t+1)),$c(ha,yt),n}finally{wl=!1}}}var Uw=Fn.ReactCurrentBatchConfig;function at(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vo=en(null),wo=null,tr=null,Eo=null;function Pc(){Eo=tr=wo=null}function Lc(t){var e=vo.current;Y(vo),t.type._context._currentValue=e}function Ym(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function ur(t,e){wo=t,Eo=tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(lt=!0),t.firstContext=null)}function nt(t,e){if(Eo!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Eo=t,e=1073741823),e={context:t,observedBits:e,next:null},tr===null){if(wo===null)throw Error(T(308));tr=e,wo.dependencies={lanes:0,firstContext:e,responders:null}}else tr=tr.next=e;return t._currentValue}var Dt=!1;function Oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Xm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jt(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Yf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ji(t,e,n,r){var i=t.updateQueue;Dt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;if(c!==null){c=c.updateQueue;var p=c.lastBaseUpdate;p!==o&&(p===null?c.firstBaseUpdate=u:p.next=u,c.lastBaseUpdate=l)}}if(s!==null){p=i.baseState,o=0,c=u=l=null;do{a=s.lane;var d=s.eventTime;if((r&a)===a){c!==null&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,w=s;switch(a=e,d=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){p=g.call(d,p,a);break e}p=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=w.payload,a=typeof g=="function"?g.call(d,p,a):g,a==null)break e;p=ee({},p,a);break e;case 2:Dt=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else d={eventTime:d,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=d,l=p):c=c.next=d,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);c===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,as|=o,t.lanes=o,t.memoizedState=p}}function Xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var Jm=new na.Component().refs;function So(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fa={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=Bt(t),s=Ut(r,i);s.payload=e,n!=null&&(s.callback=n),jt(t,s),zt(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=Bt(t),s=Ut(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),jt(t,s),zt(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=Bt(t),i=Ut(n,r);i.tag=2,e!=null&&(i.callback=e),jt(t,i),zt(t,r,n)}};function Jf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fi(n,r)||!Fi(i,s):!0}function Zm(t,e,n){var r=!1,i=Wt,s=e.contextType;return typeof s=="object"&&s!==null?s=nt(s):(i=be(e)?In:De.current,r=e.contextTypes,s=(r=r!=null)?gr(t,i):Wt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fa.enqueueReplaceState(e,e.state,null)}function uu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Jm,Oc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nt(s):(s=be(e)?In:De.current,i.context=gr(t,s)),ji(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(So(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fa.enqueueReplaceState(i,i.state,null),ji(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Os=Array.isArray;function Zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Jm&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Ms(t,e){if(t.type!=="textarea")throw Error(T(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function eg(t){function e(f,h){if(t){var m=f.lastEffect;m!==null?(m.nextEffect=h,f.lastEffect=h):f.firstEffect=f.lastEffect=h,h.nextEffect=null,h.flags=8}}function n(f,h){if(!t)return null;for(;h!==null;)e(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function i(f,h){return f=Qt(f,h),f.index=0,f.sibling=null,f}function s(f,h,m){return f.index=m,t?(m=f.alternate,m!==null?(m=m.index,m<h?(f.flags=2,h):m):(f.flags=2,h)):h}function o(f){return t&&f.alternate===null&&(f.flags=2),f}function a(f,h,m,y){return h===null||h.tag!==6?(h=kl(m,f.mode,y),h.return=f,h):(h=i(h,m),h.return=f,h)}function l(f,h,m,y){return h!==null&&h.elementType===m.type?(y=i(h,m.props),y.ref=Zr(f,h,m),y.return=f,y):(y=no(m.type,m.key,m.props,null,f.mode,y),y.ref=Zr(f,h,m),y.return=f,y)}function u(f,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Cl(m,f.mode,y),h.return=f,h):(h=i(h,m.children||[]),h.return=f,h)}function c(f,h,m,y,v){return h===null||h.tag!==7?(h=dr(m,f.mode,y,v),h.return=f,h):(h=i(h,m),h.return=f,h)}function p(f,h,m){if(typeof h=="string"||typeof h=="number")return h=kl(""+h,f.mode,m),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case oi:return m=no(h.type,h.key,h.props,null,f.mode,m),m.ref=Zr(f,null,h),m.return=f,m;case cn:return h=Cl(h,f.mode,m),h.return=f,h}if(Os(h)||Wr(h))return h=dr(h,f.mode,m,null),h.return=f,h;Ms(f,h)}return null}function d(f,h,m,y){var v=h!==null?h.key:null;if(typeof m=="string"||typeof m=="number")return v!==null?null:a(f,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case oi:return m.key===v?m.type===$t?c(f,h,m.props.children,y,v):l(f,h,m,y):null;case cn:return m.key===v?u(f,h,m,y):null}if(Os(m)||Wr(m))return v!==null?null:c(f,h,m,y,null);Ms(f,m)}return null}function g(f,h,m,y,v){if(typeof y=="string"||typeof y=="number")return f=f.get(m)||null,a(h,f,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oi:return f=f.get(y.key===null?m:y.key)||null,y.type===$t?c(h,f,y.props.children,v,y.key):l(h,f,y,v);case cn:return f=f.get(y.key===null?m:y.key)||null,u(h,f,y,v)}if(Os(y)||Wr(y))return f=f.get(m)||null,c(h,f,y,v,null);Ms(h,y)}return null}function w(f,h,m,y){for(var v=null,x=null,I=h,$=h=0,F=null;I!==null&&$<m.length;$++){I.index>$?(F=I,I=null):F=I.sibling;var D=d(f,I,m[$],y);if(D===null){I===null&&(I=F);break}t&&I&&D.alternate===null&&e(f,I),h=s(D,h,$),x===null?v=D:x.sibling=D,x=D,I=F}if($===m.length)return n(f,I),v;if(I===null){for(;$<m.length;$++)I=p(f,m[$],y),I!==null&&(h=s(I,h,$),x===null?v=I:x.sibling=I,x=I);return v}for(I=r(f,I);$<m.length;$++)F=g(I,f,$,m[$],y),F!==null&&(t&&F.alternate!==null&&I.delete(F.key===null?$:F.key),h=s(F,h,$),x===null?v=F:x.sibling=F,x=F);return t&&I.forEach(function(de){return e(f,de)}),v}function S(f,h,m,y){var v=Wr(m);if(typeof v!="function")throw Error(T(150));if(m=v.call(m),m==null)throw Error(T(151));for(var x=v=null,I=h,$=h=0,F=null,D=m.next();I!==null&&!D.done;$++,D=m.next()){I.index>$?(F=I,I=null):F=I.sibling;var de=d(f,I,D.value,y);if(de===null){I===null&&(I=F);break}t&&I&&de.alternate===null&&e(f,I),h=s(de,h,$),x===null?v=de:x.sibling=de,x=de,I=F}if(D.done)return n(f,I),v;if(I===null){for(;!D.done;$++,D=m.next())D=p(f,D.value,y),D!==null&&(h=s(D,h,$),x===null?v=D:x.sibling=D,x=D);return v}for(I=r(f,I);!D.done;$++,D=m.next())D=g(I,f,$,D.value,y),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?$:D.key),h=s(D,h,$),x===null?v=D:x.sibling=D,x=D);return t&&I.forEach(function(Za){return e(f,Za)}),v}return function(f,h,m,y){var v=typeof m=="object"&&m!==null&&m.type===$t&&m.key===null;v&&(m=m.props.children);var x=typeof m=="object"&&m!==null;if(x)switch(m.$$typeof){case oi:e:{for(x=m.key,v=h;v!==null;){if(v.key===x){switch(v.tag){case 7:if(m.type===$t){n(f,v.sibling),h=i(v,m.props.children),h.return=f,f=h;break e}break;default:if(v.elementType===m.type){n(f,v.sibling),h=i(v,m.props),h.ref=Zr(f,v,m),h.return=f,f=h;break e}}n(f,v);break}else e(f,v);v=v.sibling}m.type===$t?(h=dr(m.props.children,f.mode,y,m.key),h.return=f,f=h):(y=no(m.type,m.key,m.props,null,f.mode,y),y.ref=Zr(f,h,m),y.return=f,f=y)}return o(f);case cn:e:{for(v=m.key;h!==null;){if(h.key===v)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(f,h.sibling),h=i(h,m.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else e(f,h);h=h.sibling}h=Cl(m,f.mode,y),h.return=f,f=h}return o(f)}if(typeof m=="string"||typeof m=="number")return m=""+m,h!==null&&h.tag===6?(n(f,h.sibling),h=i(h,m),h.return=f,f=h):(n(f,h),h=kl(m,f.mode,y),h.return=f,f=h),o(f);if(Os(m))return w(f,h,m,y);if(Wr(m))return S(f,h,m,y);if(x&&Ms(f,m),typeof m=="undefined"&&!v)switch(f.tag){case 1:case 22:case 0:case 11:case 15:throw Error(T(152,ir(f.type)||"Component"))}return n(f,h)}}var To=eg(!0),tg=eg(!1),os={},dt=en(os),Bi=en(os),zi=en(os);function dn(t){if(t===os)throw Error(T(174));return t}function cu(t,e){switch(ne(zi,e),ne(Bi,t),ne(dt,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gl(e,t)}Y(dt),ne(dt,e)}function vr(){Y(dt),Y(Bi),Y(zi)}function ed(t){dn(zi.current);var e=dn(dt.current),n=Gl(e,t.type);e!==n&&(ne(Bi,t),ne(dt,n))}function Mc(t){Bi.current===t&&(Y(dt),Y(Bi))}var te=en(0);function Io(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var St=null,Ot=null,pt=!1;function ng(t,e){var n=Ze(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function hu(t){if(pt){var e=Ot;if(e){var n=e;if(!td(t,e)){if(e=lr(n.nextSibling),!e||!td(t,e)){t.flags=t.flags&-1025|2,pt=!1,St=t;return}ng(St,n)}St=t,Ot=lr(e.firstChild)}else t.flags=t.flags&-1025|2,pt=!1,St=t}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function Fs(t){if(t!==St)return!1;if(!pt)return nd(t),pt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!su(e,t.memoizedProps))for(e=Ot;e;)ng(t,e),e=lr(e.nextSibling);if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=St?lr(t.stateNode.nextSibling):null;return!0}function El(){Ot=St=null,pt=!1}var cr=[];function Fc(){for(var t=0;t<cr.length;t++)cr[t]._workInProgressVersionPrimary=null;cr.length=0}var Ei=Fn.ReactCurrentDispatcher,et=Fn.ReactCurrentBatchConfig,qi=0,ie=null,Ce=null,me=null,ko=!1,Si=!1;function Ue(){throw Error(T(321))}function Vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Je(t[n],e[n]))return!1;return!0}function Uc(t,e,n,r,i,s){if(qi=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ei.current=t===null||t.memoizedState===null?Bw:zw,t=n(r,i),Si){s=0;do{if(Si=!1,!(25>s))throw Error(T(301));s+=1,me=Ce=null,e.updateQueue=null,Ei.current=qw,t=n(r,i)}while(Si)}if(Ei.current=No,e=Ce!==null&&Ce.next!==null,qi=0,me=Ce=ie=null,ko=!1,e)throw Error(T(300));return t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=t:me=me.next=t,me}function Un(){if(Ce===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=me===null?ie.memoizedState:me.next;if(e!==null)me=e,Ce=t;else{if(t===null)throw Error(T(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},me===null?ie.memoizedState=me=t:me=me.next=t}return me}function ht(t,e){return typeof e=="function"?e(t):e}function ei(t){var e=Un(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((qi&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=c,s=r):a=a.next=c,ie.lanes|=u,as|=u}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Je(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ti(t){var e=Un(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Je(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rd(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(qi&t)===t)&&(e._workInProgressVersionPrimary=r,cr.push(e))),t)return n(e._source);throw cr.push(e),Error(T(350))}function rg(t,e,n,r){var i=Fe;if(i===null)throw Error(T(349));var s=e._getVersion,o=s(e._source),a=Ei.current,l=a.useState(function(){return rd(i,e,n)}),u=l[1],c=l[0];l=me;var p=t.memoizedState,d=p.refs,g=d.getSnapshot,w=p.source;p=p.subscribe;var S=ie;return t.memoizedState={refs:d,source:e,subscribe:r},a.useEffect(function(){d.getSnapshot=n,d.setSnapshot=u;var f=s(e._source);if(!Je(o,f)){f=n(e._source),Je(c,f)||(u(f),f=Bt(S),i.mutableReadLanes|=f&i.pendingLanes),f=i.mutableReadLanes,i.entangledLanes|=f;for(var h=i.entanglements,m=f;0<m;){var y=31-Kt(m),v=1<<y;h[y]|=f,m&=~v}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var f=d.getSnapshot,h=d.setSnapshot;try{h(f(e._source));var m=Bt(S);i.mutableReadLanes|=m&i.pendingLanes}catch(y){h(function(){throw y})}})},[e,r]),Je(g,n)&&Je(w,e)&&Je(p,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ht,lastRenderedState:c},t.dispatch=u=zc.bind(null,ie,t),l.queue=t,l.baseQueue=null,c=rd(i,e,n),l.memoizedState=l.baseState=c),c}function ig(t,e,n){var r=Un();return rg(r,t,e,n)}function ni(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ht,lastRenderedState:t},t=t.dispatch=zc.bind(null,ie,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function id(t){var e=pn();return t={current:t},e.memoizedState=t}function _o(){return Un().memoizedState}function fu(t,e,n,r){var i=pn();ie.flags|=t,i.memoizedState=Co(1|e,n,void 0,r===void 0?null:r)}function jc(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var o=Ce.memoizedState;if(s=o.destroy,r!==null&&Vc(r,o.deps)){Co(e,n,s,r);return}}ie.flags|=t,i.memoizedState=Co(1|e,n,s,r)}function sd(t,e){return fu(516,4,t,e)}function Ao(t,e){return jc(516,4,t,e)}function sg(t,e){return jc(4,2,t,e)}function og(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ag(t,e,n){return n=n!=null?n.concat([t]):null,jc(4,2,og.bind(null,e,t),n)}function Bc(){}function lg(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ug(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jw(t,e){var n=yr();kn(98>n?98:n,function(){t(!0)}),kn(97<n?97:n,function(){var r=et.transition;et.transition=1;try{t(!1),e()}finally{et.transition=r}})}function zc(t,e,n){var r=Ke(),i=Bt(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===ie||o!==null&&o===ie)Si=ko=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Je(l,a))return}catch{}finally{}zt(t,i,r)}}var No={readContext:nt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useOpaqueIdentifier:Ue,unstable_isNewReconciler:!1},Bw={readContext:nt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:sd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4,2,og.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=zc.bind(null,ie,t),[r.memoizedState,t]},useRef:id,useState:ni,useDebugValue:Bc,useDeferredValue:function(t){var e=ni(t),n=e[0],r=e[1];return sd(function(){var i=et.transition;et.transition=1;try{r(t)}finally{et.transition=i}},[t]),n},useTransition:function(){var t=ni(!1),e=t[0];return t=jw.bind(null,t[1]),id(t),[t,e]},useMutableSource:function(t,e,n){var r=pn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},rg(r,t,e,n)},useOpaqueIdentifier:function(){if(pt){var t=!1,e=Lw(function(){throw t||(t=!0,n("r:"+(yl++).toString(36))),Error(T(355))}),n=ni(e)[1];return(ie.mode&2)===0&&(ie.flags|=516,Co(5,function(){n("r:"+(yl++).toString(36))},void 0,null)),e}return e="r:"+(yl++).toString(36),ni(e),e},unstable_isNewReconciler:!1},zw={readContext:nt,useCallback:lg,useContext:nt,useEffect:Ao,useImperativeHandle:ag,useLayoutEffect:sg,useMemo:ug,useReducer:ei,useRef:_o,useState:function(){return ei(ht)},useDebugValue:Bc,useDeferredValue:function(t){var e=ei(ht),n=e[0],r=e[1];return Ao(function(){var i=et.transition;et.transition=1;try{r(t)}finally{et.transition=i}},[t]),n},useTransition:function(){var t=ei(ht)[0];return[_o().current,t]},useMutableSource:ig,useOpaqueIdentifier:function(){return ei(ht)[0]},unstable_isNewReconciler:!1},qw={readContext:nt,useCallback:lg,useContext:nt,useEffect:Ao,useImperativeHandle:ag,useLayoutEffect:sg,useMemo:ug,useReducer:ti,useRef:_o,useState:function(){return ti(ht)},useDebugValue:Bc,useDeferredValue:function(t){var e=ti(ht),n=e[0],r=e[1];return Ao(function(){var i=et.transition;et.transition=1;try{r(t)}finally{et.transition=i}},[t]),n},useTransition:function(){var t=ti(ht)[0];return[_o().current,t]},useMutableSource:ig,useOpaqueIdentifier:function(){return ti(ht)[0]},unstable_isNewReconciler:!1},bw=Fn.ReactCurrentOwner,lt=!1;function je(t,e,n,r){e.child=t===null?tg(e,null,n,r):To(e,t.child,n,r)}function od(t,e,n,r,i){n=n.render;var s=e.ref;return ur(e,i),r=Uc(t,e,n,r,s,i),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Tt(t,e,i)):(e.flags|=1,je(t,e,r,i),e.child)}function ad(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Gc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cg(t,e,o,r,i,s)):(t=no(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Fi,n(i,r)&&t.ref===e.ref)?Tt(t,e,s):(e.flags|=1,t=Qt(o,r),t.ref=e.ref,t.return=e,e.child=t)}function cg(t,e,n,r,i,s){if(t!==null&&Fi(t.memoizedProps,r)&&t.ref===e.ref)if(lt=!1,(s&i)!==0)(t.flags&16384)!==0&&(lt=!0);else return e.lanes=t.lanes,Tt(t,e,s);return du(t,e,n,r,s)}function Sl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Us(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},Us(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Us(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Us(e,r);return je(t,e,i,n),e.child}function hg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function du(t,e,n,r,i){var s=be(n)?In:De.current;return s=gr(e,s),ur(e,i),n=Uc(t,e,n,r,s,i),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Tt(t,e,i)):(e.flags|=1,je(t,e,n,i),e.child)}function ld(t,e,n,r,i){if(be(n)){var s=!0;Xs(e)}else s=!1;if(ur(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Zm(e,n,r),uu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=be(n)?In:De.current,u=gr(e,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Zf(e,o,r,u),Dt=!1;var d=e.memoizedState;o.state=d,ji(e,r,o,i),l=e.memoizedState,a!==r||d!==l||qe.current||Dt?(typeof c=="function"&&(So(e,n,c,r),l=e.memoizedState),(a=Dt||Jf(e,n,a,r,d,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Xm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:at(e.type,a),o.props=u,p=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=be(n)?In:De.current,l=gr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||d!==l)&&Zf(e,o,r,l),Dt=!1,d=e.memoizedState,o.state=d,ji(e,r,o,i);var w=e.memoizedState;a!==p||d!==w||qe.current||Dt?(typeof g=="function"&&(So(e,n,g,r),w=e.memoizedState),(u=Dt||Jf(e,n,u,r,d,w,l))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return pu(t,e,n,r,s,i)}function pu(t,e,n,r,i,s){hg(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Wf(e,n,!1),Tt(t,e,s);r=e.stateNode,bw.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):je(t,e,a,s),e.memoizedState=r.state,i&&Wf(e,n,!0),e.child}function ud(t){var e=t.stateNode;e.pendingContext?Kf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kf(t,e.context,!1),cu(t,e.containerInfo)}var Vs={dehydrated:null,retryLane:0};function cd(t,e,n){var r=e.pendingProps,i=te.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ne(te,i&1),t===null?(r.fallback!==void 0&&hu(e),t=r.children,i=r.fallback,s?(t=hd(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Vs,t):typeof r.unstable_expectedLoadTime=="number"?(t=hd(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Vs,e.lanes=33554432,t):(n=Qc({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=dd(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Vs,r):(n=fd(t,e,r.children,n),e.memoizedState=null,n):s?(r=dd(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Vs,r):(n=fd(t,e,r.children,n),e.memoizedState=null,n)}function hd(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Qc(e,i,0,null),n=dr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function fd(t,e,n,r){var i=t.child;return t=i.sibling,n=Qt(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function dd(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Qt(o,a),t!==null?r=Qt(t,r):(r=dr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function pd(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ym(t.return,e)}function Tl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function md(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(je(t,e,r.children,n),r=te.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pd(t,n);else if(t.tag===19)pd(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(te,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Io(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Io(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tl(e,!0,n,null,s,e.lastEffect);break;case"together":Tl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Tt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Qt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var fg,mu,dg,pg;fg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mu=function(){};dg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dn(dt.current);var s=null;switch(n){case"input":i=zl(t,i),r=zl(t,r),s=[];break;case"option":i=Hl(t,i),r=Hl(t,r),s=[];break;case"select":i=ee({},i,{value:void 0}),r=ee({},r,{value:void 0}),s=[];break;case"textarea":i=Kl(t,i),r=Kl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mo)}Ql(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ri.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===mc?l.toString():(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ri(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hw(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return be(e.type)&&yo(),null;case 3:return vr(),Y(qe),Y(De),Fc(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(e)?e.flags|=4:r.hydrate||(e.flags|=256)),mu(e),null;case 5:Mc(e);var i=dn(zi.current);if(n=e.type,t!==null&&e.stateNode!=null)dg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(T(166));return null}if(t=dn(dt.current),Fs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Lt]=e,r[go]=s,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(t=0;t<li.length;t++)Q(li[t],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":mf(r,s),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Q("invalid",r);break;case"textarea":yf(r,s),Q("invalid",r)}Ql(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Ri.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Q("scroll",r));switch(n){case"input":Ds(r),gf(r,s,!0);break;case"textarea":Ds(r),vf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mo)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Wl.html&&(t=am(n)),t===Wl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lt]=e,t[go]=r,fg(t,e,!1,!1),e.stateNode=t,o=Yl(n,r),n){case"dialog":Q("cancel",t),Q("close",t),i=r;break;case"iframe":case"object":case"embed":Q("load",t),i=r;break;case"video":case"audio":for(i=0;i<li.length;i++)Q(li[i],t);i=r;break;case"source":Q("error",t),i=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),i=r;break;case"details":Q("toggle",t),i=r;break;case"input":mf(t,r),i=zl(t,r),Q("invalid",t);break;case"option":i=Hl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ee({},r,{value:void 0}),Q("invalid",t);break;case"textarea":yf(t,r),i=Kl(t,r),Q("invalid",t);break;default:i=r}Ql(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cm(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lm(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Di(t,l):typeof l=="number"&&Di(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ri.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Q("scroll",t):l!=null&&uc(t,s,l,o))}switch(n){case"input":Ds(t),gf(t,r,!1);break;case"textarea":Ds(t),vf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ht(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sr(t,!!r.multiple,s,!1):r.defaultValue!=null&&sr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mo)}Bm(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)pg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));n=dn(zi.current),dn(dt.current),Fs(e)?(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r)}return null;case 13:return Y(te),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Fs(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(te.current&1)!==0?ye===0&&(ye=3):((ye===0||ye===3)&&(ye=4),Fe===null||(as&134217727)===0&&($r&134217727)===0||hr(Fe,Ne))),(r||n)&&(e.flags|=4),null);case 4:return vr(),mu(e),t===null&&Vm(e.stateNode.containerInfo),null;case 10:return Lc(e),null;case 17:return be(e.type)&&yo(),null;case 19:if(Y(te),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)ri(r,!1);else{if(ye!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Io(t),o!==null){for(e.flags|=64,ri(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(te,te.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ae()>Su&&(e.flags|=64,s=!0,ri(r,!1),e.lanes=33554432)}else{if(!s)if(t=Io(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ri(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!pt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ae()-r.renderingStartTime>Su&&n!==1073741824&&(e.flags|=64,s=!0,ri(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ae(),n.sibling=null,e=te.current,ne(te,s?e&1|2:e&1),n):null;case 23:case 24:return Wc(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(T(156,e.tag))}function Kw(t){switch(t.tag){case 1:be(t.type)&&yo();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(vr(),Y(qe),Y(De),Fc(),e=t.flags,(e&64)!==0)throw Error(T(285));return t.flags=e&-4097|64,t;case 5:return Mc(t),null;case 13:return Y(te),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Y(te),null;case 4:return vr(),null;case 10:return Lc(t),null;case 23:case 24:return Wc(),null;default:return null}}function qc(t,e){try{var n="",r=e;do n+=_0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function gu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ww=typeof WeakMap=="function"?WeakMap:Map;function mg(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ro||(Ro=!0,Tu=r),gu(t,e)},n}function gg(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return gu(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ft===null?ft=new Set([this]):ft.add(this),gu(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var Gw=typeof WeakSet=="function"?WeakSet:Set;function gd(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){qt(t,n)}else e.current=null}function Qw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:at(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Rc(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(T(163))}function Yw(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Cg(n,t),i1(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:at(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Xf(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Xf(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Bm(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Em(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(T(163))}function yd(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=um("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vd(t,e){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Dc,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Cg(e,n);else{r=e;try{i()}catch(s){qt(r,s)}}n=n.next}while(n!==t)}break;case 1:if(gd(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){qt(e,s)}break;case 5:gd(e);break;case 4:yg(t,e)}}function wd(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Ed(t){return t.tag===5||t.tag===3||t.tag===4}function Sd(t){e:{for(var e=t.return;e!==null;){if(Ed(e))break e;e=e.return}throw Error(T(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(T(161))}n.flags&16&&(Di(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Ed(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?yu(t,n,e):vu(t,n,e)}function yu(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mo));else if(r!==4&&(t=t.child,t!==null))for(yu(t,e,n),t=t.sibling;t!==null;)yu(t,e,n),t=t.sibling}function vu(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vu(t,e,n),t=t.sibling;t!==null;)vu(t,e,n),t=t.sibling}function yg(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(T(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,a=n,l=a;;)if(vd(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(vd(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Il(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[go]=r,t==="input"&&r.type==="radio"&&r.name!=null&&sm(n,r),Yl(t,i),e=Yl(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?cm(n,a):o==="dangerouslySetInnerHTML"?lm(n,a):o==="children"?Di(n,a):uc(n,o,a,e)}switch(t){case"input":ql(n,r);break;case"textarea":om(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?sr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?sr(n,!!r.multiple,r.defaultValue,!0):sr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(T(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Em(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Kc=Ae(),yd(e.child,!0)),Td(e);return;case 19:Td(e);return;case 17:return;case 23:case 24:yd(e,e.memoizedState!==null);return}throw Error(T(163))}function Td(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gw),e.forEach(function(r){var i=a1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Jw=Math.ceil,xo=Fn.ReactCurrentDispatcher,bc=Fn.ReactCurrentOwner,L=0,Fe=null,le=null,Ne=0,Cn=0,wu=en(0),ye=0,da=null,Dr=0,as=0,$r=0,Hc=0,Eu=null,Kc=0,Su=1/0;function Pr(){Su=Ae()+500}var A=null,Ro=!1,Tu=null,ft=null,Gt=!1,Ti=null,ui=90,Iu=[],ku=[],kt=null,Ii=0,Cu=null,Zs=-1,Et=0,eo=0,ki=null,to=!1;function Ke(){return(L&48)!==0?Ae():Zs!==-1?Zs:Zs=Ae()}function Bt(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return yr()===99?1:2;if(Et===0&&(Et=Dr),Uw.transition!==0){eo!==0&&(eo=Eu!==null?Eu.pendingLanes:0),t=Et;var e=4186112&~eo;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=yr(),(L&4)!==0&&t===98?t=fo(12,Et):(t=z0(t),t=fo(t,Et)),t}function zt(t,e,n){if(50<Ii)throw Ii=0,Cu=null,Error(T(185));if(t=pa(t,e),t===null)return null;oa(t,e,n),t===Fe&&($r|=e,ye===4&&hr(t,Ne));var r=yr();e===1?(L&8)!==0&&(L&48)===0?_u(t):(rt(t,n),L===0&&(Pr(),yt())):((L&4)===0||r!==98&&r!==99||(kt===null?kt=new Set([t]):kt.add(t)),rt(t,n)),Eu=t}function pa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function rt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Kt(o),l=1<<a,u=s[a];if(u===-1){if((l&r)===0||(l&i)!==0){u=e,Gn(l);var c=W;s[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);o&=~l}if(r=Oi(t,t===Fe?Ne:0),e=W,r===0)n!==null&&(n!==vl&&au(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==vl&&au(n)}e===15?(n=_u.bind(null,t),wt===null?(wt=[n],Js=$c(ha,Qm)):wt.push(n),n=vl):e===14?n=Ui(99,_u.bind(null,t)):(n=q0(e),n=Ui(n,vg.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function vg(t){if(Zs=-1,eo=Et=0,(L&48)!==0)throw Error(T(327));var e=t.callbackNode;if(tn()&&t.callbackNode!==e)return null;var n=Oi(t,t===Fe?Ne:0);if(n===0)return null;var r=n,i=L;L|=16;var s=Tg();(Fe!==t||Ne!==r)&&(Pr(),fr(t,r));do try{t1();break}catch(a){Sg(t,a)}while(1);if(Pc(),xo.current=s,L=i,le!==null?r=0:(Fe=null,Ne=0,r=ye),(Dr&$r)!==0)fr(t,0);else if(r!==0){if(r===2&&(L|=64,t.hydrate&&(t.hydrate=!1,Rc(t.containerInfo)),n=Am(t),n!==0&&(r=ci(t,n))),r===1)throw e=da,fr(t,0),hr(t,n),rt(t,Ae()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(T(345));case 2:ln(t);break;case 3:if(hr(t,n),(n&62914560)===n&&(r=Kc+500-Ae(),10<r)){if(Oi(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qf(ln.bind(null,t),r);break}ln(t);break;case 4:if(hr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Kt(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jw(n/1960))-n,10<n){t.timeoutHandle=qf(ln.bind(null,t),n);break}ln(t);break;case 5:ln(t);break;default:throw Error(T(329))}}return rt(t,Ae()),t.callbackNode===e?vg.bind(null,t):null}function hr(t,e){for(e&=~Hc,e&=~$r,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if((L&48)!==0)throw Error(T(327));if(tn(),t===Fe&&(t.expiredLanes&Ne)!==0){var e=Ne,n=ci(t,e);(Dr&$r)!==0&&(e=Oi(t,e),n=ci(t,e))}else e=Oi(t,0),n=ci(t,e);if(t.tag!==0&&n===2&&(L|=64,t.hydrate&&(t.hydrate=!1,Rc(t.containerInfo)),e=Am(t),e!==0&&(n=ci(t,e))),n===1)throw n=da,fr(t,0),hr(t,e),rt(t,Ae()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ln(t),rt(t,Ae()),null}function Zw(){if(kt!==null){var t=kt;kt=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,rt(e,Ae())})}yt()}function wg(t,e){var n=L;L|=1;try{return t(e)}finally{L=n,L===0&&(Pr(),yt())}}function Eg(t,e){var n=L;L&=-2,L|=8;try{return t(e)}finally{L=n,L===0&&(Pr(),yt())}}function Us(t,e){ne(wu,Cn),Cn|=e,Dr|=e}function Wc(){Cn=wu.current,Y(wu)}function fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pw(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&yo();break;case 3:vr(),Y(qe),Y(De),Fc();break;case 5:Mc(r);break;case 4:vr();break;case 13:Y(te);break;case 19:Y(te);break;case 10:Lc(r);break;case 23:case 24:Wc()}n=n.return}Fe=t,le=Qt(t.current,null),Ne=Cn=Dr=e,ye=0,da=null,Hc=$r=as=0}function Sg(t,e){do{var n=le;try{if(Pc(),Ei.current=No,ko){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ko=!1}if(qi=0,me=Ce=ie=null,Si=!1,bc.current=null,n===null||n.return===null){ye=1,da=e,le=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ne,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=(te.current&1)!==0,d=o;do{var g;if(g=d.tag===13){var w=d.memoizedState;if(w!==null)g=w.dehydrated!==null;else{var S=d.memoizedProps;g=S.fallback===void 0?!1:S.unstable_avoidThisFallback!==!0?!0:!p}}if(g){var f=d.updateQueue;if(f===null){var h=new Set;h.add(u),d.updateQueue=h}else f.add(u);if((d.mode&2)===0){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var m=Ut(-1,1);m.tag=2,jt(a,m)}a.lanes|=1;break e}l=void 0,a=e;var y=s.pingCache;if(y===null?(y=s.pingCache=new Ww,l=new Set,y.set(u,l)):(l=y.get(u),l===void 0&&(l=new Set,y.set(u,l))),!l.has(a)){l.add(a);var v=o1.bind(null,s,u,a);u.then(v,v)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);l=Error((ir(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ye!==5&&(ye=2),l=qc(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,e&=-e,d.lanes|=e;var x=mg(d,s,e);Yf(d,x);break e;case 1:s=l;var I=d.type,$=d.stateNode;if((d.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ft===null||!ft.has($)))){d.flags|=4096,e&=-e,d.lanes|=e;var F=gg(d,s,e);Yf(d,F);break e}}d=d.return}while(d!==null)}kg(n)}catch(D){e=D,le===n&&n!==null&&(le=n=n.return);continue}break}while(1)}function Tg(){var t=xo.current;return xo.current=No,t===null?No:t}function ci(t,e){var n=L;L|=16;var r=Tg();Fe===t&&Ne===e||fr(t,e);do try{e1();break}catch(i){Sg(t,i)}while(1);if(Pc(),L=n,xo.current=r,le!==null)throw Error(T(261));return Fe=null,Ne=0,ye}function e1(){for(;le!==null;)Ig(le)}function t1(){for(;le!==null&&!Mw();)Ig(le)}function Ig(t){var e=_g(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?kg(t):le=e,bc.current=null}function kg(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=Hw(n,e,Cn),n!==null){le=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Cn&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=Kw(e),n!==null){n.flags&=2047,le=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);ye===0&&(ye=5)}function ln(t){var e=yr();return kn(99,n1.bind(null,t,e)),null}function n1(t,e){do tn();while(Ti!==null);if((L&48)!==0)throw Error(T(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var l=31-Kt(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(kt!==null&&(r&24)===0&&kt.has(t)&&kt.delete(t),t===Fe&&(le=Fe=null,Ne=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=L,L|=32,bc.current=null,ml=Gs,o=Mf(),nu(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&u.rangeCount!==0){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var c=0,p=-1,d=-1,g=0,w=0,S=o,f=null;t:for(;;){for(var h;S!==a||s!==0&&S.nodeType!==3||(p=c+s),S!==l||u!==0&&S.nodeType!==3||(d=c+u),S.nodeType===3&&(c+=S.nodeValue.length),(h=S.firstChild)!==null;)f=S,S=h;for(;;){if(S===o)break t;if(f===a&&++g===s&&(p=c),f===l&&++w===u&&(d=c),(h=S.nextSibling)!==null)break;S=f,f=S.parentNode}S=h}a=p===-1||d===-1?null:{start:p,end:d}}else a=null;a=a||{start:0,end:0}}else a=null;gl={focusedElem:o,selectionRange:a},Gs=!1,ki=null,to=!1,A=r;do try{r1()}catch(D){if(A===null)throw Error(T(330));qt(A,D),A=A.nextEffect}while(A!==null);ki=null,A=r;do try{for(o=t;A!==null;){var m=A.flags;if(m&16&&Di(A.stateNode,""),m&128){var y=A.alternate;if(y!==null){var v=y.ref;v!==null&&(typeof v=="function"?v(null):v.current=null)}}switch(m&1038){case 2:Sd(A),A.flags&=-3;break;case 6:Sd(A),A.flags&=-3,Il(A.alternate,A);break;case 1024:A.flags&=-1025;break;case 1028:A.flags&=-1025,Il(A.alternate,A);break;case 4:Il(A.alternate,A);break;case 8:a=A,yg(o,a);var x=a.alternate;wd(a),x!==null&&wd(x)}A=A.nextEffect}}catch(D){if(A===null)throw Error(T(330));qt(A,D),A=A.nextEffect}while(A!==null);if(v=gl,y=Mf(),m=v.focusedElem,o=v.selectionRange,y!==m&&m&&m.ownerDocument&&Om(m.ownerDocument.documentElement,m)){for(o!==null&&nu(m)&&(y=o.start,v=o.end,v===void 0&&(v=y),"selectionStart"in m?(m.selectionStart=y,m.selectionEnd=Math.min(v,m.value.length)):(v=(y=m.ownerDocument||document)&&y.defaultView||window,v.getSelection&&(v=v.getSelection(),a=m.textContent.length,x=Math.min(o.start,a),o=o.end===void 0?x:Math.min(o.end,a),!v.extend&&x>o&&(a=o,o=x,x=a),a=Of(m,x),s=Of(m,o),a&&s&&(v.rangeCount!==1||v.anchorNode!==a.node||v.anchorOffset!==a.offset||v.focusNode!==s.node||v.focusOffset!==s.offset)&&(y=y.createRange(),y.setStart(a.node,a.offset),v.removeAllRanges(),x>o?(v.addRange(y),v.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),v.addRange(y)))))),y=[],v=m;v=v.parentNode;)v.nodeType===1&&y.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<y.length;m++)v=y[m],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}Gs=!!ml,gl=ml=null,t.current=n,A=r;do try{for(m=t;A!==null;){var I=A.flags;if(I&36&&Yw(m,A.alternate,A),I&128){y=void 0;var $=A.ref;if($!==null){var F=A.stateNode;switch(A.tag){case 5:y=F;break;default:y=F}typeof $=="function"?$(y):$.current=y}}A=A.nextEffect}}catch(D){if(A===null)throw Error(T(330));qt(A,D),A=A.nextEffect}while(A!==null);A=null,Vw(),L=i}else t.current=n;if(Gt)Gt=!1,Ti=t,ui=e;else for(A=r;A!==null;)e=A.nextEffect,A.nextEffect=null,A.flags&8&&(I=A,I.sibling=null,I.stateNode=null),A=e;if(r=t.pendingLanes,r===0&&(ft=null),r===1?t===Cu?Ii++:(Ii=0,Cu=t):Ii=0,n=n.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Dc,n,void 0,(n.current.flags&64)===64)}catch{}if(rt(t,Ae()),Ro)throw Ro=!1,t=Tu,Tu=null,t;return(L&8)!==0||yt(),null}function r1(){for(;A!==null;){var t=A.alternate;to||ki===null||((A.flags&8)!==0?Sf(A,ki)&&(to=!0):A.tag===13&&Xw(t,A)&&Sf(A,ki)&&(to=!0));var e=A.flags;(e&256)!==0&&Qw(t,A),(e&512)===0||Gt||(Gt=!0,Ui(97,function(){return tn(),null})),A=A.nextEffect}}function tn(){if(ui!==90){var t=97<ui?97:ui;return ui=90,kn(t,s1)}return!1}function i1(t,e){Iu.push(e,t),Gt||(Gt=!0,Ui(97,function(){return tn(),null}))}function Cg(t,e){ku.push(e,t),Gt||(Gt=!0,Ui(97,function(){return tn(),null}))}function s1(){if(Ti===null)return!1;var t=Ti;if(Ti=null,(L&48)!==0)throw Error(T(331));var e=L;L|=32;var n=ku;ku=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(T(330));qt(s,l)}}for(n=Iu,Iu=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(T(330));qt(s,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return L=e,yt(),!0}function Id(t,e,n){e=qc(n,e),e=mg(t,e,1),jt(t,e),e=Ke(),t=pa(t,1),t!==null&&(oa(t,1,e),rt(t,e))}function qt(t,e){if(t.tag===3)Id(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Id(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ft===null||!ft.has(r))){t=qc(e,t);var i=gg(n,t,1);if(jt(n,i),i=Ke(),n=pa(n,1),n!==null)oa(n,1,i),rt(n,i);else if(typeof r.componentDidCatch=="function"&&(ft===null||!ft.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function o1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Ne&n)===n&&(ye===4||ye===3&&(Ne&62914560)===Ne&&500>Ae()-Kc?fr(t,0):Hc|=n),rt(t,e)}function a1(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=yr()===99?1:2:(Et===0&&(Et=Dr),e=Qn(62914560&~Et),e===0&&(e=4194304))),n=Ke(),t=pa(t,e),t!==null&&(oa(t,e,n),rt(t,n))}var _g;_g=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||qe.current)lt=!0;else if((n&r)!==0)lt=(t.flags&16384)!==0;else{switch(lt=!1,e.tag){case 3:ud(e),El();break;case 5:ed(e);break;case 1:be(e.type)&&Xs(e);break;case 4:cu(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ne(vo,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?cd(t,e,n):(ne(te,te.current&1),e=Tt(t,e,n),e!==null?e.sibling:null);ne(te,te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return md(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(te,te.current),r)break;return null;case 23:case 24:return e.lanes=0,Sl(t,e,n)}return Tt(t,e,n)}else lt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=gr(e,De.current),ur(e,n),i=Uc(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)){var s=!0;Xs(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oc(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&So(e,r,o,t),i.updater=fa,e.stateNode=i,i._reactInternals=e,uu(e,r,t,n),e=pu(null,e,r,!0,s,n)}else e.tag=0,je(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=u1(i),t=at(i,t),s){case 0:e=du(null,e,i,t,n);break e;case 1:e=ld(null,e,i,t,n);break e;case 11:e=od(null,e,i,t,n);break e;case 14:e=ad(null,e,i,at(i.type,t),r,n);break e}throw Error(T(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:at(r,i),du(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:at(r,i),ld(t,e,r,i,n);case 3:if(ud(e),r=e.updateQueue,t===null||r===null)throw Error(T(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Xm(t,e),ji(e,r,null,n),r=e.memoizedState.element,r===i)El(),e=Tt(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Ot=lr(e.stateNode.containerInfo.firstChild),St=e,s=pt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],cr.push(s);for(n=tg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else je(t,e,r,n),El();e=e.child}return e;case 5:return ed(e),t===null&&hu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,su(r,i)?o=null:s!==null&&su(r,s)&&(e.flags|=16),hg(t,e),je(t,e,o,n),e.child;case 6:return t===null&&hu(e),null;case 13:return cd(t,e,n);case 4:return cu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:at(r,i),od(t,e,r,i,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(ne(vo,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Je(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!qe.current){e=Tt(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){a.tag===1&&(u=Ut(-1,n&-n),u.tag=2,jt(a,u)),a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Ym(a.return,n),l.lanes|=n;break}u=u.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,ur(e,n),i=nt(i,s.unstable_observedBits),r=r(i),e.flags|=1,je(t,e,r,n),e.child;case 14:return i=e.type,s=at(i,e.pendingProps),s=at(i.type,s),ad(t,e,i,s,r,n);case 15:return cg(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:at(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,be(r)?(t=!0,Xs(e)):t=!1,ur(e,n),Zm(e,r,i),uu(e,r,i,n),pu(null,e,r,!0,t,n);case 19:return md(t,e,n);case 23:return Sl(t,e,n);case 24:return Sl(t,e,n)}throw Error(T(156,e.tag))};function l1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,n,r){return new l1(t,e,n,r)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u1(t){if(typeof t=="function")return Gc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ra)return 11;if(t===ia)return 14}return 2}function Qt(t,e){var n=t.alternate;return n===null?(n=Ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function no(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $t:return dr(n.children,i,s,e);case nm:o=8,i|=16;break;case cc:o=8,i|=1;break;case di:return t=Ze(12,n,e,i|8),t.elementType=di,t.type=di,t.lanes=s,t;case pi:return t=Ze(13,n,e,i),t.type=pi,t.elementType=pi,t.lanes=s,t;case lo:return t=Ze(19,n,e,i),t.elementType=lo,t.lanes=s,t;case gc:return Qc(n,i,s,e);case Bl:return t=Ze(24,n,e,i),t.elementType=Bl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hc:o=10;break e;case fc:o=9;break e;case ra:o=11;break e;case ia:o=14;break e;case dc:o=16,r=null;break e;case pc:o=22;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Ze(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function dr(t,e,n,r){return t=Ze(7,t,r,e),t.lanes=n,t}function Qc(t,e,n,r){return t=Ze(23,t,r,e),t.elementType=gc,t.lanes=n,t}function kl(t,e,n){return t=Ze(6,t,null,e),t.lanes=n,t}function Cl(t,e,n){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c1(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.mutableSourceEagerHydrationData=null}function h1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Do(t,e,n,r){var i=e.current,s=Ke(),o=Bt(i);e:if(n){n=n._reactInternals;t:{if(Vn(n)!==n||n.tag!==1)throw Error(T(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(be(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(T(171))}if(n.tag===1){var l=n.type;if(be(l)){n=qm(n,l,a);break e}}n=a}else n=Wt;return e.context===null?e.context=n:e.pendingContext=n,e=Ut(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),jt(i,e),zt(i,o,s),o}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yc(t,e){kd(t,e),(t=t.alternate)&&kd(t,e)}function f1(){return null}function Xc(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new c1(t,e,n!=null&&n.hydrate===!0),e=Ze(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Oc(e),t[Rr]=n.current,Vm(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Xc.prototype.render=function(t){Do(t,this._internalRoot,null,null)};Xc.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Do(null,t,null,function(){e[Rr]=null})};function ls(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d1(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Xc(t,0,e?{hydrate:!0}:void 0)}function ma(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var u=_l(o);a.call(u)}}Do(e,o,t,i)}else{if(s=n._reactRootContainer=d1(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var u=_l(o);l.call(u)}}Eg(function(){Do(e,o,t,i)})}return _l(o)}ym=function(t){if(t.tag===13){var e=Ke();zt(t,4,e),Yc(t,4)}};Sc=function(t){if(t.tag===13){var e=Ke();zt(t,67108864,e),Yc(t,67108864)}};vm=function(t){if(t.tag===13){var e=Ke(),n=Bt(t);zt(t,n,e),Yc(t,n)}};wm=function(t,e){return e()};Xl=function(t,e,n){switch(e){case"input":if(ql(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ca(r);if(!i)throw Error(T(90));im(r),ql(r,i)}}}break;case"textarea":om(t,n);break;case"select":e=n.value,e!=null&&sr(t,!!n.multiple,e,!1)}};vc=wg;dm=function(t,e,n,r,i){var s=L;L|=4;try{return kn(98,t.bind(null,e,n,r,i))}finally{L=s,L===0&&(Pr(),yt())}};wc=function(){(L&49)===0&&(Zw(),tn())};pm=function(t,e){var n=L;L|=2;try{return t(e)}finally{L=n,L===0&&(Pr(),yt())}};function Ag(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ls(e))throw Error(T(200));return h1(t,e,null,n)}var p1={Events:[ss,Zn,ca,hm,fm,tn,{current:!1}]},ii={findFiberByHostInstance:fn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},m1={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gm(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Dc=js.inject(m1),wn=js}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p1;st.createPortal=Ag;st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):Error(T(268,Object.keys(t)));return t=gm(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t,e){var n=L;if((n&48)!==0)return t(e);L|=1;try{if(t)return kn(99,t.bind(null,e))}finally{L=n,yt()}};st.hydrate=function(t,e,n){if(!ls(e))throw Error(T(200));return ma(null,t,e,!0,n)};st.render=function(t,e,n){if(!ls(e))throw Error(T(200));return ma(null,t,e,!1,n)};st.unmountComponentAtNode=function(t){if(!ls(t))throw Error(T(40));return t._reactRootContainer?(Eg(function(){ma(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};st.unstable_batchedUpdates=wg;st.unstable_createPortal=function(t,e){return Ag(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};st.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ls(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ma(t,e,n,!1,r)};st.version="17.0.2";function Ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ng)}catch(t){console.error(t)}}Ng(),Jp.exports=st;var m_=Jp.exports;function $o(){return $o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}var mn,Jc=mn||(mn={});Jc.Pop="POP";Jc.Push="PUSH";Jc.Replace="REPLACE";var Cd=function(t){return t};function _d(t){t.preventDefault(),t.returnValue=""}function Ad(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function g1(){return Math.random().toString(36).substr(2,8)}function y1(t){var e=t.pathname;e=e===void 0?"/":e;var n=t.search;return n=n===void 0?"":n,t=t.hash,t=t===void 0?"":t,n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Lr(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),n=t.indexOf("?"),0<=n&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function v1(t){function e(){var f=l.location,h=u.state||{};return[h.idx,Cd({pathname:f.pathname,search:f.search,hash:f.hash,state:h.usr||null,key:h.key||"default"})]}function n(f){return typeof f=="string"?f:y1(f)}function r(f,h){return h===void 0&&(h=null),Cd($o({pathname:g.pathname,hash:"",search:""},typeof f=="string"?Lr(f):f,{state:h,key:g1()}))}function i(f){p=f,f=e(),d=f[0],g=f[1],w.call({action:p,location:g})}function s(f,h){function m(){s(f,h)}var y=mn.Push,v=r(f,h);if(!S.length||(S.call({action:y,location:v,retry:m}),!1)){var x=[{usr:v.state,key:v.key,idx:d+1},n(v)];v=x[0],x=x[1];try{u.pushState(v,"",x)}catch{l.location.assign(x)}i(y)}}function o(f,h){function m(){o(f,h)}var y=mn.Replace,v=r(f,h);S.length&&(S.call({action:y,location:v,retry:m}),1)||(v=[{usr:v.state,key:v.key,idx:d},n(v)],u.replaceState(v[0],"",v[1]),i(y))}function a(f){u.go(f)}t===void 0&&(t={}),t=t.window;var l=t===void 0?document.defaultView:t,u=l.history,c=null;l.addEventListener("popstate",function(){if(c)S.call(c),c=null;else{var f=mn.Pop,h=e(),m=h[0];if(h=h[1],S.length){if(m!=null){var y=d-m;y&&(c={action:f,location:h,retry:function(){a(-1*y)}},a(y))}}else i(f)}});var p=mn.Pop;t=e();var d=t[0],g=t[1],w=Ad(),S=Ad();return d==null&&(d=0,u.replaceState($o({},u.state,{idx:d}),"")),{get action(){return p},get location(){return g},createHref:n,push:s,replace:o,go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(f){return w.push(f)},block:function(f){var h=S.push(f);return S.length===1&&l.addEventListener("beforeunload",_d),function(){h(),S.length||l.removeEventListener("beforeunload",_d)}}}}/**
 * React Router v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(t,e){if(!t)throw new Error(e)}const xg=H.exports.createContext(null),Zc=H.exports.createContext(null),ga=H.exports.createContext({outlet:null,matches:[]});function w1(t){return I1(t.context)}function E1(t){Nt(!1)}function S1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mn.Pop,navigator:s,static:o=!1}=t;ya()&&Nt(!1);let a=q1(e),l=H.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Lr(r));let{pathname:u="/",search:c="",hash:p="",state:d=null,key:g="default"}=r,w=H.exports.useMemo(()=>{let S=$g(u,a);return S==null?null:{pathname:S,search:c,hash:p,state:d,key:g}},[a,u,c,p,d,g]);return w==null?null:H.exports.createElement(xg.Provider,{value:l},H.exports.createElement(Zc.Provider,{children:n,value:{location:w,navigationType:i}}))}function g_(t){let{children:e,location:n}=t;return k1(Au(e),n)}function ya(){return H.exports.useContext(Zc)!=null}function Rg(){return ya()||Nt(!1),H.exports.useContext(Zc).location}function y_(){ya()||Nt(!1);let{basename:t,navigator:e}=H.exports.useContext(xg),{matches:n}=H.exports.useContext(ga),{pathname:r}=Rg(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=H.exports.useRef(!1);return H.exports.useEffect(()=>{s.current=!0}),H.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=z1(a,JSON.parse(i),r);t!=="/"&&(u.pathname=En([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,i,r])}const T1=H.exports.createContext(null);function I1(t){let e=H.exports.useContext(ga).outlet;return e&&H.exports.createElement(T1.Provider,{value:t},e)}function k1(t,e){ya()||Nt(!1);let{matches:n}=H.exports.useContext(ga),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=Rg(),a;if(e){var l;let d=typeof e=="string"?Lr(e):e;s==="/"||((l=d.pathname)==null?void 0:l.startsWith(s))||Nt(!1),a=d}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",p=C1(t,{pathname:c});return M1(p&&p.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:En([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:En([s,d.pathnameBase])})),n)}function Au(t){let e=[];return H.exports.Children.forEach(t,n=>{if(!H.exports.isValidElement(n))return;if(n.type===H.exports.Fragment){e.push.apply(e,Au(n.props.children));return}n.type!==E1&&Nt(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Au(n.props.children)),e.push(r)}),e}function C1(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Lr(e):e,i=$g(r.pathname||"/",n);if(i==null)return null;let s=Dg(t);_1(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=O1(s[a],i);return o}function Dg(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Nt(!1),o.relativePath=o.relativePath.slice(r.length));let a=En([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&Nt(!1),Dg(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:P1(a,i.index),routesMeta:l})}),e}function _1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A1=/^:\w+$/,N1=3,x1=2,R1=1,D1=10,$1=-2,Nd=t=>t==="*";function P1(t,e){let n=t.split("/"),r=n.length;return n.some(Nd)&&(r+=$1),e&&(r+=x1),n.filter(i=>!Nd(i)).reduce((i,s)=>i+(A1.test(s)?N1:s===""?R1:D1),r)}function L1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O1(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=F1({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let p=a.route;s.push({params:r,pathname:En([i,c.pathname]),pathnameBase:En([i,c.pathnameBase]),route:p}),c.pathnameBase!=="/"&&(i=En([i,c.pathnameBase]))}return s}function M1(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>H.exports.createElement(ga.Provider,{children:r.route.element!==void 0?r.route.element:H.exports.createElement(w1,null),value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function F1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,p)=>{if(c==="*"){let d=a[p]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=U1(a[p]||""),u},{}),pathname:s,pathnameBase:o,pattern:t}}function V1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function U1(t,e){try{return decodeURIComponent(t)}catch{return t}}function j1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lr(t):t;return{pathname:n?n.startsWith("/")?n:B1(n,e):e,search:b1(r),hash:H1(i)}}function B1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function z1(t,e,n){let r=typeof t=="string"?Lr(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=j1(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function $g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const En=t=>t.join("/").replace(/\/\/+/g,"/"),q1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v_(t){let{basename:e,children:n,window:r}=t,i=H.exports.useRef();i.current==null&&(i.current=v1({window:r}));let s=i.current,[o,a]=H.exports.useState({action:s.action,location:s.location});return H.exports.useLayoutEffect(()=>s.listen(a),[s]),H.exports.createElement(S1,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(va())}function Pg(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q1(){return va().indexOf("Electron/")>=0}function Y1(){const t=va();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X1(){return va().indexOf("MSAppHost/")>=0}function J1(){return typeof indexedDB=="object"}function Z1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function eE(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="FirebaseError";class Or extends Error{constructor(e,n,r){super(n);this.code=e,this.customData=r,this.name=tE,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nE(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Or(i,a,r)}}function nE(t,e){return t.replace(rE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rE=/\{\$([^}]+)}/g;function Po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xd(s)&&xd(o)){if(!Po(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=1e3,sE=2,oE=4*60*60*1e3,aE=.5;function Rd(t,e=iE,n=sE){const r=e*Math.pow(n,t),i=Math.round(aE*r*(Math.random()-.5)*2);return Math.min(oE,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cE(e))try{this.getOrInitializeService({instanceIdentifier:un})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=un){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=un){return this.instances.has(e)}getOptions(e=un){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=un){return this.component?this.component.multipleInstances?e:un:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uE(t){return t===un?void 0:t}function cE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(b||(b={}));const fE={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},dE=b.INFO,pE={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},mE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eh{constructor(e){this.name=e,this._logLevel=dE,this._logHandler=mE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in b))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...e),this._logHandler(this,b.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...e),this._logHandler(this,b.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,b.INFO,...e),this._logHandler(this,b.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,b.WARN,...e),this._logHandler(this,b.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...e),this._logHandler(this,b.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nu="@firebase/app",Dd="0.7.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new eh("@firebase/app"),vE="@firebase/app-compat",wE="@firebase/analytics-compat",EE="@firebase/analytics",SE="@firebase/app-check-compat",TE="@firebase/app-check",IE="@firebase/auth",kE="@firebase/auth-compat",CE="@firebase/database",_E="@firebase/database-compat",AE="@firebase/functions",NE="@firebase/functions-compat",xE="@firebase/installations",RE="@firebase/installations-compat",DE="@firebase/messaging",$E="@firebase/messaging-compat",PE="@firebase/performance",LE="@firebase/performance-compat",OE="@firebase/remote-config",ME="@firebase/remote-config-compat",FE="@firebase/storage",VE="@firebase/storage-compat",UE="@firebase/firestore",jE="@firebase/firestore-compat",BE="firebase",zE="9.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",qE={[Nu]:"fire-core",[vE]:"fire-core-compat",[EE]:"fire-analytics",[wE]:"fire-analytics-compat",[TE]:"fire-app-check",[SE]:"fire-app-check-compat",[IE]:"fire-auth",[kE]:"fire-auth-compat",[CE]:"fire-rtdb",[_E]:"fire-rtdb-compat",[AE]:"fire-fn",[NE]:"fire-fn-compat",[xE]:"fire-iid",[RE]:"fire-iid-compat",[DE]:"fire-fcm",[$E]:"fire-fcm-compat",[PE]:"fire-perf",[LE]:"fire-perf-compat",[OE]:"fire-rc",[ME]:"fire-rc-compat",[FE]:"fire-gcs",[VE]:"fire-gcs-compat",[UE]:"fire-fst",[jE]:"fire-fst-compat","fire-js":"fire-js",[BE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,xu=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){th.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _n(t){const e=t.name;if(xu.has(e))return th.debug(`There were multiple attempts to register component ${e}.`),!1;xu.set(e,t);for(const n of Lo.values())bE(n,t);return!0}function us(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Oo=new wa("app","Firebase",HE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=zE;function w_(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Oo.create("bad-app-name",{appName:String(r)});const i=Lo.get(r);if(i){if(Po(t,i.options)&&Po(n,i.config))return i;throw Oo.create("duplicate-app",{appName:r})}const s=new hE(r);for(const a of xu.values())s.addComponent(a);const o=new KE(t,n,s);return Lo.set(r,o),o}function Og(t=Lg){const e=Lo.get(t);if(!e)throw Oo.create("no-app",{appName:t});return e}function mt(t,e,n){var r;let i=(r=qE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),th.warn(a.join(" "));return}_n(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){_n(new Yt("platform-logger",e=>new gE(e),"PRIVATE")),mt(Nu,Dd,t),mt(Nu,Dd,"esm2017"),mt("fire-js","")}GE("");var QE=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_,nh=nh||{},M=QE||self;function Mo(){}function Ru(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function YE(t){return Object.prototype.hasOwnProperty.call(t,Al)&&t[Al]||(t[Al]=++XE)}var Al="closure_uid_"+(1e9*Math.random()>>>0),XE=0;function JE(t,e,n){return t.call.apply(t.bind,arguments)}function ZE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ve(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ve=JE:ve=ZE,ve.apply(null,arguments)}function Bs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ie(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function nn(){this.s=this.s,this.o=this.o}var eS=0,tS={};nn.prototype.s=!1;nn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),eS!=0)){var t=YE(this);delete tS[t]}};nn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fg=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function nS(t){e:{var e=WS;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function $d(t){return Array.prototype.concat.apply([],arguments)}function rh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fo(t){return/^[\s\xa0]*$/.test(t)}var Pd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pe(t,e){return t.indexOf(e)!=-1}function Nl(t,e){return t<e?-1:t>e?1:0}var Le;e:{var Ld=M.navigator;if(Ld){var Od=Ld.userAgent;if(Od){Le=Od;break e}}Le=""}function ih(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Vg(t){const e={};for(const n in t)e[n]=t[n];return e}var Md="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ug(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Md.length;s++)n=Md[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sh(t){return sh[" "](t),t}sh[" "]=Mo;function rS(t){var e=oS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var iS=Pe(Le,"Opera"),wr=Pe(Le,"Trident")||Pe(Le,"MSIE"),jg=Pe(Le,"Edge"),Du=jg||wr,Bg=Pe(Le,"Gecko")&&!(Pe(Le.toLowerCase(),"webkit")&&!Pe(Le,"Edge"))&&!(Pe(Le,"Trident")||Pe(Le,"MSIE"))&&!Pe(Le,"Edge"),sS=Pe(Le.toLowerCase(),"webkit")&&!Pe(Le,"Edge");function zg(){var t=M.document;return t?t.documentMode:void 0}var Vo;e:{var xl="",Rl=function(){var t=Le;if(Bg)return/rv:([^\);]+)(\)|;)/.exec(t);if(jg)return/Edge\/([\d\.]+)/.exec(t);if(wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sS)return/WebKit\/(\S+)/.exec(t);if(iS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rl&&(xl=Rl?Rl[1]:""),wr){var Dl=zg();if(Dl!=null&&Dl>parseFloat(xl)){Vo=String(Dl);break e}}Vo=xl}var oS={};function aS(){return rS(function(){let t=0;const e=Pd(String(Vo)).split("."),n=Pd("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Nl(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Nl(i[2].length==0,s[2].length==0)||Nl(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var $u;if(M.document&&wr){var Fd=zg();$u=Fd||parseInt(Vo,10)||void 0}else $u=void 0;var lS=$u,uS=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{M.addEventListener("test",Mo,e),M.removeEventListener("test",Mo,e)}catch{}return t}();function xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};function bi(t,e){if(xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bg){e:{try{sh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bi.Z.h.call(this)}}Ie(bi,xe);var cS={2:"touch",3:"pen",4:"mouse"};bi.prototype.h=function(){bi.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hs="closure_listenable_"+(1e6*Math.random()|0),hS=0;function fS(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++hS,this.ca=this.fa=!1}function Ea(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Sa(t){this.src=t,this.g={},this.h=0}Sa.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Lu(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new fS(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Pu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Mg(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ea(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lu(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var oh="closure_lm_"+(1e6*Math.random()|0),$l={};function qg(t,e,n,r,i){if(r&&r.once)return Hg(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qg(t,e[s],n,r,i);return null}return n=uh(n),t&&t[hs]?t.N(e,n,cs(r)?!!r.capture:!!r,i):bg(t,e,n,!1,r,i)}function bg(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=cs(i)?!!i.capture:!!i,a=lh(t);if(a||(t[oh]=a=new Sa(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=dS(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uS||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wg(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function dS(){function t(n){return e.call(t.src,t.listener,n)}var e=pS;return t}function Hg(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Hg(t,e[s],n,r,i);return null}return n=uh(n),t&&t[hs]?t.O(e,n,cs(r)?!!r.capture:!!r,i):bg(t,e,n,!0,r,i)}function Kg(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kg(t,e[s],n,r,i);else r=cs(r)?!!r.capture:!!r,n=uh(n),t&&t[hs]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Lu(s,n,r,i),-1<n&&(Ea(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=lh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lu(e,n,r,i)),(n=-1<t?e[t]:null)&&ah(n))}function ah(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[hs])Pu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lh(e))?(Pu(n,t),n.h==0&&(n.src=null,e[oh]=null)):Ea(t)}}}function Wg(t){return t in $l?$l[t]:$l[t]="on"+t}function pS(t,e){if(t.ca)t=!0;else{e=new bi(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ah(t),t=n.call(r,e)}return t}function lh(t){return t=t[oh],t instanceof Sa?t:null}var Pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uh(t){return typeof t=="function"?t:(t[Pl]||(t[Pl]=function(e){return t.handleEvent(e)}),t[Pl])}function fe(){nn.call(this),this.i=new Sa(this),this.P=this,this.I=null}Ie(fe,nn);fe.prototype[hs]=!0;fe.prototype.removeEventListener=function(t,e,n,r){Kg(this,t,e,n,r)};function we(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new xe(e,t);else if(e instanceof xe)e.target=e.target||t;else{var i=e;e=new xe(r,t),Ug(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zs(o,r,!0,e)&&i}if(o=e.g=t,i=zs(o,r,!0,e)&&i,i=zs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zs(o,r,!1,e)&&i}fe.prototype.M=function(){if(fe.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ea(n[r]);delete t.g[e],t.h--}}this.I=null};fe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zs(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Pu(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ch=M.JSON.stringify;function mS(){var t=Qg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gS{constructor(){this.h=this.g=null}add(e,n){const r=Gg.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gg=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new yS,t=>t.reset());class yS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vS(t){M.setTimeout(()=>{throw t},0)}function hh(t,e){Ou||wS(),Mu||(Ou(),Mu=!0),Qg.add(t,e)}var Ou;function wS(){var t=M.Promise.resolve(void 0);Ou=function(){t.then(ES)}}var Mu=!1,Qg=new gS;function ES(){for(var t;t=mS();){try{t.h.call(t.g)}catch(n){vS(n)}var e=Gg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mu=!1}function Ta(t,e){fe.call(this),this.h=t||1,this.g=e||M,this.j=ve(this.kb,this),this.l=Date.now()}Ie(Ta,fe);_=Ta.prototype;_.da=!1;_.S=null;_.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),we(this,"tick"),this.da&&(fh(this),this.start()))}};_.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}_.M=function(){Ta.Z.M.call(this),fh(this),delete this.g};function dh(t,e,n){if(typeof t=="function")n&&(t=ve(t,n));else if(t&&typeof t.handleEvent=="function")t=ve(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:M.setTimeout(t,e||0)}function Yg(t){t.g=dh(()=>{t.g=null,t.i&&(t.i=!1,Yg(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class SS extends nn{constructor(e,n){super();this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yg(this)}M(){super.M(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(t){nn.call(this),this.h=t,this.g={}}Ie(Hi,nn);var Vd=[];function Xg(t,e,n,r){Array.isArray(n)||(n&&(Vd[0]=n.toString()),n=Vd);for(var i=0;i<n.length;i++){var s=qg(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Jg(t){ih(t.g,function(e,n){this.g.hasOwnProperty(n)&&ah(e)},t),t.g={}}Hi.prototype.M=function(){Hi.Z.M.call(this),Jg(this)};Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ia(){this.g=!0}Ia.prototype.Aa=function(){this.g=!1};function TS(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var p=c.split("_");o=2<=p.length&&p[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function IS(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function nr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CS(t,n)+(r?" "+r:"")})}function kS(t,e){t.info(function(){return"TIMEOUT: "+e})}Ia.prototype.info=function(){};function CS(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ch(n)}catch{return e}}var jn={},Ud=null;function ka(){return Ud=Ud||new fe}jn.Ma="serverreachability";function Zg(t){xe.call(this,jn.Ma,t)}Ie(Zg,xe);function Ki(t){const e=ka();we(e,new Zg(e,t))}jn.STAT_EVENT="statevent";function ey(t,e){xe.call(this,jn.STAT_EVENT,t),this.stat=e}Ie(ey,xe);function Oe(t){const e=ka();we(e,new ey(e,t))}jn.Na="timingevent";function ty(t,e){xe.call(this,jn.Na,t),this.size=e}Ie(ty,xe);function fs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){t()},e)}var Ca={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ny={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ph(){}ph.prototype.h=null;function jd(t){return t.h||(t.h=t.i())}function ry(){}var ds={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mh(){xe.call(this,"d")}Ie(mh,xe);function gh(){xe.call(this,"c")}Ie(gh,xe);var Fu;function _a(){}Ie(_a,ph);_a.prototype.g=function(){return new XMLHttpRequest};_a.prototype.i=function(){return{}};Fu=new _a;function ps(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Hi(this),this.P=_S,t=Du?125:void 0,this.W=new Ta(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iy}function iy(){this.i=null,this.g="",this.h=!1}var _S=45e3,Vu={},Uo={};_=ps.prototype;_.setTimeout=function(t){this.P=t};function Uu(t,e,n){t.K=1,t.v=Na(xt(e)),t.s=n,t.U=!0,sy(t,null)}function sy(t,e){t.F=Date.now(),ms(t),t.A=xt(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),fy(n.h,"t",r),t.C=0,n=t.l.H,t.h=new iy,t.g=$y(t.l,n?e:null,!t.s),0<t.O&&(t.L=new SS(ve(t.Ia,t,t.g),t.O)),Xg(t.V,t.g,"readystatechange",t.gb),e=t.H?Vg(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ki(1),TS(t.j,t.u,t.A,t.m,t.X,t.s)}_.gb=function(t){t=t.target;const e=this.L;e&&It(t)==3?e.l():this.Ia(t)};_.Ia=function(t){try{if(t==this.g)e:{const c=It(this.g);var e=this.g.Da();const p=this.g.ba();if(!(3>c)&&(c!=3||Du||this.g&&(this.h.h||this.g.ga()||bd(this.g)))){this.I||c!=4||e==7||(e==8||0>=p?Ki(3):Ki(2)),Aa(this);var n=this.g.ba();this.N=n;t:if(oy(this)){var r=bd(this.g);t="";var i=r.length,s=It(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){gn(this),Ci(this);var o="";break t}this.h.i=new M.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,IS(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fo(a)){var u=a;break t}}u=null}if(n=u)nr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ju(this,n);else{this.i=!1,this.o=3,Oe(12),gn(this),Ci(this);break e}}this.U?(ay(this,c,o),Du&&this.i&&c==3&&(Xg(this.V,this.W,"tick",this.fb),this.W.start())):(nr(this.j,this.m,o,null),ju(this,o)),c==4&&gn(this),this.i&&!this.I&&(c==4?Ny(this.l,this):(this.i=!1,ms(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Oe(12)):(this.o=0,Oe(13)),gn(this),Ci(this)}}}catch{}finally{}};function oy(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function ay(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=AS(t,n),i==Uo){e==4&&(t.o=4,Oe(14),r=!1),nr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Vu){t.o=4,Oe(15),nr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else nr(t.j,t.m,i,null),ju(t,i);oy(t)&&i!=Uo&&i!=Vu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Oe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ch(e),e.L=!0,Oe(11))):(nr(t.j,t.m,n,"[Invalid Chunked Response]"),gn(t),Ci(t))}_.fb=function(){if(this.g){var t=It(this.g),e=this.g.ga();this.C<e.length&&(Aa(this),ay(this,t,e),this.i&&t!=4&&ms(this))}};function AS(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Uo:(n=Number(e.substring(n,r)),isNaN(n)?Vu:(r+=1,r+n>e.length?Uo:(e=e.substr(r,n),t.C=r+n,e)))}_.cancel=function(){this.I=!0,gn(this)};function ms(t){t.Y=Date.now()+t.P,ly(t,t.P)}function ly(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=fs(ve(t.eb,t),e)}function Aa(t){t.B&&(M.clearTimeout(t.B),t.B=null)}_.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(kS(this.j,this.A),this.K!=2&&(Ki(3),Oe(17)),gn(this),this.o=2,Ci(this)):ly(this,this.Y-t)};function Ci(t){t.l.G==0||t.I||Ny(t.l,t)}function gn(t){Aa(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,fh(t.W),Jg(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ju(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Bu(n.i,t))){if(n.I=t.N,!t.J&&Bu(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)qo(n),Da(n);else break e;kh(n),Oe(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=fs(ve(n.ab,n),6e3));if(1>=my(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else yn(n,11)}else if((t.J||n.g==t)&&qo(n),!Fo(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const p=u[4];p!=null&&(n.za=p,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;!s.g&&(Pe(w,"spdy")||Pe(w,"quic")||Pe(w,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(wh(s,s.h),s.h=null))}if(r.D){const S=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.sa=S,J(r.F,r.D,S))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=Dy(r,r.H?r.la:null,r.W),o.J){gy(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Aa(a),ms(a)),r.g=o}else _y(r);0<n.l.length&&$a(n)}else u[0]!="stop"&&u[0]!="close"||yn(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yn(n,7):Ih(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ki(4)}catch{}}function NS(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ru(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function yh(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ru(t)||typeof t=="string")Fg(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ru(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=NS(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Mr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Mr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}_=Mr.prototype;_.R=function(){vh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};_.T=function(){return vh(this),this.g.concat()};function vh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];An(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],An(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}_.get=function(t,e){return An(this.h,t)?this.h[t]:e};_.set=function(t,e){An(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};_.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var uy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Nn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Nn){this.g=e!==void 0?e:t.g,jo(this,t.j),this.s=t.s,Bo(this,t.i),zo(this,t.m),this.l=t.l,e=t.h;var n=new Wi;n.i=e.i,e.g&&(n.g=new Mr(e.g),n.h=e.h),Bd(this,n),this.o=t.o}else t&&(n=String(t).match(uy))?(this.g=!!e,jo(this,n[1]||"",!0),this.s=_i(n[2]||""),Bo(this,n[3]||"",!0),zo(this,n[4]),this.l=_i(n[5]||"",!0),Bd(this,n[6]||"",!0),this.o=_i(n[7]||"")):(this.g=!!e,this.h=new Wi(null,this.g))}Nn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hi(e,zd,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hi(e,zd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(hi(n,n.charAt(0)=="/"?LS:PS,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hi(n,MS)),t.join("")};function xt(t){return new Nn(t)}function jo(t,e,n){t.j=n?_i(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bo(t,e,n){t.i=n?_i(e,!0):e}function zo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bd(t,e,n){e instanceof Wi?(t.h=e,FS(t.h,t.g)):(n||(e=hi(e,OS)),t.h=new Wi(e,t.g))}function J(t,e,n){t.h.set(e,n)}function Na(t){return J(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function RS(t){return t instanceof Nn?xt(t):new Nn(t,void 0)}function DS(t,e,n,r){var i=new Nn(null,void 0);return t&&jo(i,t),e&&Bo(i,e),n&&zo(i,n),r&&(i.l=r),i}function _i(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$S),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $S(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zd=/[#\/\?@]/g,PS=/[#\?:]/g,LS=/[#\?]/g,OS=/[#\?@]/g,MS=/#/g;function Wi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rn(t){t.g||(t.g=new Mr,t.h=0,t.i&&xS(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}_=Wi.prototype;_.add=function(t,e){rn(this),this.i=null,t=Fr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cy(t,e){rn(t),e=Fr(t,e),An(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,An(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&vh(t)))}function hy(t,e){return rn(t),e=Fr(t,e),An(t.g.h,e)}_.forEach=function(t,e){rn(this),this.g.forEach(function(n,r){Fg(n,function(i){t.call(e,i,r,this)},this)},this)};_.T=function(){rn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};_.R=function(t){rn(this);var e=[];if(typeof t=="string")hy(this,t)&&(e=$d(e,this.g.get(Fr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=$d(e,t[n])}return e};_.set=function(t,e){return rn(this),this.i=null,t=Fr(this,t),hy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};_.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function fy(t,e,n){cy(t,e),0<n.length&&(t.i=null,t.g.set(Fr(t,e),rh(n)),t.h+=n.length)}_.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Fr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FS(t,e){e&&!t.j&&(rn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cy(this,r),fy(this,i,n))},t)),t.j=e}var VS=class{constructor(t,e){this.h=t,this.g=e}};function dy(t){this.l=t||US,M.PerformanceNavigationTiming?(t=M.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(M.g&&M.g.Ea&&M.g.Ea()&&M.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var US=10;function py(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function my(t){return t.h?1:t.g?t.g.size:0}function Bu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wh(t,e){t.g?t.g.add(e):t.h=e}function gy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dy.prototype.cancel=function(){if(this.i=yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return rh(t.i)}function Eh(){}Eh.prototype.stringify=function(t){return M.JSON.stringify(t,void 0)};Eh.prototype.parse=function(t){return M.JSON.parse(t,void 0)};function jS(){this.g=new Eh}function BS(t,e,n){const r=n||"";try{yh(t,function(i,s){let o=i;cs(i)&&(o=ch(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zS(t,e){const n=new Ia;if(M.Image){const r=new Image;r.onload=Bs(qs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bs(qs,n,r,"TestLoadImage: error",!1,e),r.onabort=Bs(qs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bs(qs,n,r,"TestLoadImage: timeout",!1,e),M.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function qs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gs(t){this.l=t.$b||null,this.j=t.ib||!1}Ie(gs,ph);gs.prototype.g=function(){return new xa(this.l,this.j)};gs.prototype.i=function(t){return function(){return t}}({});function xa(t,e){fe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Sh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ie(xa,fe);var Sh=0;_=xa.prototype;_.open=function(t,e){if(this.readyState!=Sh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gi(this)};_.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||M).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};_.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=Sh};_.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof M.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vy(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function vy(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}_.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ys(this):Gi(this),this.readyState==3&&vy(this)}};_.Ua=function(t){this.g&&(this.response=this.responseText=t,ys(this))};_.Ta=function(t){this.g&&(this.response=t,ys(this))};_.ha=function(){this.g&&ys(this)};function ys(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gi(t)}_.setRequestHeader=function(t,e){this.v.append(t,e)};_.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};_.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qS=M.JSON.parse;function ae(t){fe.call(this),this.headers=new Mr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wy,this.K=this.L=!1}Ie(ae,fe);var wy="",bS=/^https?$/i,HS=["POST","PUT"];_=ae.prototype;_.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fu.g(),this.C=this.u?jd(this.u):jd(Fu),this.g.onreadystatechange=ve(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){qd(this,s);return}t=n||"";const i=new Mr(this.headers);r&&yh(r,function(s,o){i.set(o,s)}),r=nS(i.T()),n=M.FormData&&t instanceof M.FormData,!(0<=Mg(HS,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ty(this),0<this.B&&((this.K=KS(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ve(this.pa,this)):this.A=dh(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qd(this,s)}};function KS(t){return wr&&aS()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function WS(t){return t.toLowerCase()=="content-type"}_.pa=function(){typeof nh!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))};function qd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ey(t),Ra(t)}function Ey(t){t.D||(t.D=!0,we(t,"complete"),we(t,"error"))}_.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,we(this,"complete"),we(this,"abort"),Ra(this))};_.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ra(this,!0)),ae.Z.M.call(this)};_.Fa=function(){this.s||(this.F||this.v||this.l?Sy(this):this.cb())};_.cb=function(){Sy(this)};function Sy(t){if(t.h&&typeof nh!="undefined"&&(!t.C[1]||It(t)!=4||t.ba()!=2)){if(t.v&&It(t)==4)dh(t.Fa,0,t);else if(we(t,"readystatechange"),It(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(uy)[1]||null;if(!i&&M.self&&M.self.location){var s=M.self.location.protocol;i=s.substr(0,s.length-1)}r=!bS.test(i?i.toLowerCase():"")}n=r}if(n)we(t,"complete"),we(t,"success");else{t.m=6;try{var o=2<It(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Ey(t)}}finally{Ra(t)}}}}function Ra(t,e){if(t.g){Ty(t);const n=t.g,r=t.C[0]?Mo:null;t.g=null,t.C=null,e||we(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ty(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(M.clearTimeout(t.A),t.A=null)}function It(t){return t.g?t.g.readyState:0}_.ba=function(){try{return 2<It(this)?this.g.status:-1}catch{return-1}};_.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};_.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qS(e)}};function bd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}_.Da=function(){return this.m};_.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function GS(t){let e="";return ih(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Th(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):J(t,e,n))}function si(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Iy(t){this.za=0,this.l=[],this.h=new Ia,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=si("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=si("baseRetryDelayMs",5e3,t),this.$a=si("retryDelaySeedMs",1e4,t),this.Ya=si("forwardChannelMaxRetries",2,t),this.ra=si("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new dy(t&&t.concurrentRequestLimit),this.Ca=new jS,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}_=Iy.prototype;_.ma=8;_.G=1;function Ih(t){if(ky(t),t.G==3){var e=t.V++,n=xt(t.F);J(n,"SID",t.J),J(n,"RID",e),J(n,"TYPE","terminate"),vs(t,n),e=new ps(t,t.h,e,void 0),e.K=2,e.v=Na(xt(n)),n=!1,M.navigator&&M.navigator.sendBeacon&&(n=M.navigator.sendBeacon(e.v.toString(),"")),!n&&M.Image&&(new Image().src=e.v,n=!0),n||(e.g=$y(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ms(e)}Ry(t)}_.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Da(t){t.g&&(Ch(t),t.g.cancel(),t.g=null)}function ky(t){Da(t),t.u&&(M.clearTimeout(t.u),t.u=null),qo(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&M.clearTimeout(t.m),t.m=null)}function Ll(t,e){t.l.push(new VS(t.Za++,e)),t.G==3&&$a(t)}function $a(t){py(t.i)||t.m||(t.m=!0,hh(t.Ha,t),t.C=0)}function QS(t,e){return my(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=fs(ve(t.Ha,t,e),xy(t,t.C)),t.C++,!0)}_.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ps(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=Vg(s),Ug(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Cy(this,i,e),n=xt(this.F),J(n,"RID",t),J(n,"CVER",22),this.D&&J(n,"X-HTTP-Session-Id",this.D),vs(this,n),this.o&&s&&Th(n,this.o,s),wh(this.i,i),this.Ra&&J(n,"TYPE","init"),this.ja?(J(n,"$req",e),J(n,"SID","null"),i.$=!0,Uu(i,n,null)):Uu(i,n,e),this.G=2}}else this.G==3&&(t?Hd(this,t):this.l.length==0||py(this.i)||Hd(this))};function Hd(t,e){var n;e?n=e.m:n=t.V++;const r=xt(t.F);J(r,"SID",t.J),J(r,"RID",n),J(r,"AID",t.U),vs(t,r),t.o&&t.s&&Th(r,t.o,t.s),n=new ps(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Cy(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),wh(t.i,n),Uu(n,r,e)}function vs(t,e){t.j&&yh({},function(n,r){J(e,r,n)})}function Cy(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ve(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{BS(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function _y(t){t.g||t.u||(t.Y=1,hh(t.Ga,t),t.A=0)}function kh(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=fs(ve(t.Ga,t),xy(t,t.A)),t.A++,!0)}_.Ga=function(){if(this.u=null,Ay(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=fs(ve(this.bb,this),t)}};_.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oe(10),Da(this),Ay(this))};function Ch(t){t.B!=null&&(M.clearTimeout(t.B),t.B=null)}function Ay(t){t.g=new ps(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=xt(t.oa);J(e,"RID","rpc"),J(e,"SID",t.J),J(e,"CI",t.N?"0":"1"),J(e,"AID",t.U),vs(t,e),J(e,"TYPE","xmlhttp"),t.o&&t.s&&Th(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Na(xt(e)),n.s=null,n.U=!0,sy(n,t)}_.ab=function(){this.v!=null&&(this.v=null,Da(this),kh(this),Oe(19))};function qo(t){t.v!=null&&(M.clearTimeout(t.v),t.v=null)}function Ny(t,e){var n=null;if(t.g==e){qo(t),Ch(t),t.g=null;var r=2}else if(Bu(t.i,e))n=e.D,gy(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ka(),we(r,new ty(r,n,e,i)),$a(t)}else _y(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&QS(t,e)||r==2&&kh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yn(t,5);break;case 4:yn(t,10);break;case 3:yn(t,6);break;default:yn(t,2)}}}function xy(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function yn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=ve(t.jb,t);n||(n=new Nn("//www.google.com/images/cleardot.gif"),M.location&&M.location.protocol=="http"||jo(n,"https"),Na(n)),zS(n.toString(),r)}else Oe(2);t.G=0,t.j&&t.j.va(e),Ry(t),ky(t)}_.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Oe(2)):(this.h.info("Failed to ping google.com"),Oe(1))};function Ry(t){t.G=0,t.I=-1,t.j&&((yy(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,rh(t.l),t.l.length=0),t.j.ua())}function Dy(t,e,n){let r=RS(n);if(r.i!="")e&&Bo(r,e+"."+r.i),zo(r,r.m);else{const i=M.location;r=DS(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ih(t.aa,function(i,s){J(r,s,i)}),e=t.D,n=t.sa,e&&n&&J(r,e,n),J(r,"VER",t.ma),vs(t,r),r}function $y(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ae(new gs({ib:!0})):new ae(t.qa),e.L=t.H,e}function Py(){}_=Py.prototype;_.xa=function(){};_.wa=function(){};_.va=function(){};_.ua=function(){};_.Oa=function(){};function bo(){if(wr&&!(10<=Number(lS)))throw Error("Environmental error: no available transport.")}bo.prototype.g=function(t,e){return new Qe(t,e)};function Qe(t,e){fe.call(this),this.g=new Iy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fo(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vr(this)}Ie(Qe,fe);Qe.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),hh(ve(t.hb,t,e))),Oe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Dy(t,null,t.W),$a(t)};Qe.prototype.close=function(){Ih(this.g)};Qe.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ll(this.g,e)}else this.v?(e={},e.__data__=ch(t),Ll(this.g,e)):Ll(this.g,t)};Qe.prototype.M=function(){this.g.j=null,delete this.j,Ih(this.g),delete this.g,Qe.Z.M.call(this)};function Ly(t){mh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ie(Ly,mh);function Oy(){gh.call(this),this.status=1}Ie(Oy,gh);function Vr(t){this.g=t}Ie(Vr,Py);Vr.prototype.xa=function(){we(this.g,"a")};Vr.prototype.wa=function(t){we(this.g,new Ly(t))};Vr.prototype.va=function(t){we(this.g,new Oy(t))};Vr.prototype.ua=function(){we(this.g,"b")};bo.prototype.createWebChannel=bo.prototype.g;Qe.prototype.send=Qe.prototype.u;Qe.prototype.open=Qe.prototype.m;Qe.prototype.close=Qe.prototype.close;Ca.NO_ERROR=0;Ca.TIMEOUT=8;Ca.HTTP_ERROR=6;ny.COMPLETE="complete";ry.EventType=ds;ds.OPEN="a";ds.CLOSE="b";ds.ERROR="c";ds.MESSAGE="d";fe.prototype.listen=fe.prototype.N;ae.prototype.listenOnce=ae.prototype.O;ae.prototype.getLastError=ae.prototype.La;ae.prototype.getLastErrorCode=ae.prototype.Da;ae.prototype.getStatus=ae.prototype.ba;ae.prototype.getResponseJson=ae.prototype.Qa;ae.prototype.getResponseText=ae.prototype.ga;ae.prototype.send=ae.prototype.ea;var YS=function(){return new bo},XS=function(){return ka()},Ol=Ca,JS=ny,ZS=jn,Kd={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},eT=gs,bs=ry,tT=ae;const Wd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="9.6.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new eh("@firebase/firestore");function Gd(){return xn.logLevel}function R(t,...e){if(xn.logLevel<=b.DEBUG){const n=e.map(_h);xn.debug(`Firestore (${Ur}): ${t}`,...n)}}function Xt(t,...e){if(xn.logLevel<=b.ERROR){const n=e.map(_h);xn.error(`Firestore (${Ur}): ${t}`,...n)}}function Qd(t,...e){if(xn.logLevel<=b.WARN){const n=e.map(_h);xn.warn(`Firestore (${Ur}): ${t}`,...n)}}function _h(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t="Unexpected state"){const e=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: `+t;throw Xt(e),new Error(e)}function G(t,e){t||V()}function U(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class iT{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ct,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ct)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G(typeof r.accessToken=="string"),new nT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(e===null||typeof e=="string"),new Be(e)}}class sT{constructor(e,n,r){this.type="FirstParty",this.user=Be.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class oT{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new sT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>(s=>(s.error!=null&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token)))(i))};const r=i=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G(typeof n.token=="string"),new aT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ah.I=-1;class My{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Er(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new We(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Z extends Qi{construct(e,n,r){return new Z(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Z(n)}static emptyPath(){return new Z([])}}const cT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Qi{construct(e,n,r){return new ze(e,n,r)}static isValidIdentifier(e){return cT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new N(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.fields=e,e.sort(ze.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Er(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Te(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Te(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Te.EMPTY_BYTE_STRING=new Te("");const hT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jt(t){if(G(!!t),typeof t=="string"){let e=0;const n=hT.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oe(t.seconds),nanos:oe(t.nanos)}}function oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?Te.fromBase64String(t):Te.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uy(t){const e=t.mapValue.fields.__previous_value__;return Vy(e)?Uy(e):e}function Xi(t){const e=Jt(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t==null}function Ho(t){return t===0&&1/t==-1/0}function fT(t){return typeof t=="number"&&Number.isInteger(t)&&!Ho(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.path=e}static fromPath(e){return new P(Z.fromString(e))}static fromName(e){return new P(Z.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return e!==null&&Z.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Z.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new Z(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vy(t)?4:10:V()}function gt(t,e){if(t===e)return!0;const n=Rn(t);if(n!==Rn(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xi(t).isEqual(Xi(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Jt(r.timestampValue),o=Jt(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Sr(r.bytesValue).isEqual(Sr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return oe(r.geoPointValue.latitude)===oe(i.geoPointValue.latitude)&&oe(r.geoPointValue.longitude)===oe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return oe(r.integerValue)===oe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=oe(r.doubleValue),o=oe(i.doubleValue);return s===o?Ho(s)===Ho(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Er(t.arrayValue.values||[],e.arrayValue.values||[],gt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Yd(s)!==Yd(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gt(s[a],o[a])))return!1;return!0}(t,e);default:return V()}}function Ji(t,e){return(t.values||[]).find(n=>gt(n,e))!==void 0}function Tr(t,e){if(t===e)return 0;const n=Rn(t),r=Rn(e);if(n!==r)return K(n,r);switch(n){case 0:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=oe(i.integerValue||i.doubleValue),a=oe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Xd(t.timestampValue,e.timestampValue);case 4:return Xd(Xi(t),Xi(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Sr(i),a=Sr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=K(o[l],a[l]);if(u!==0)return u}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(oe(i.latitude),oe(s.latitude));return o!==0?o:K(oe(i.longitude),oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Tr(o[l],a[l]);if(u)return u}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const p=K(a[c],u[c]);if(p!==0)return p;const d=Tr(o[a[c]],l[u[c]]);if(d!==0)return d}return K(a.length,u.length)}(t.mapValue,e.mapValue);default:throw V()}}function Xd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return K(t,e);const n=Jt(t),r=Jt(e),i=K(n.seconds,r.seconds);return i!==0?i:K(n.nanos,r.nanos)}function Nh(t){return zu(t)}function zu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Jt(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Sr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,P.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=zu(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${zu(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e,n}function Jd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qu(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function Zd(t){return!!t&&"nullValue"in t}function ep(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ro(t){return!!t&&"mapValue"in t}function Ai(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ai(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ai(t.arrayValue.values[n]);return e}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.value=e}static empty(){return new He({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ro(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ai(n)}setAll(e){let n=ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ai(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ro(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ro(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bn(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new He(Ai(this.value))}}function jy(t){const e=[];return Bn(t.fields,(n,r)=>{const i=new ze([n]);if(ro(r)){const s=jy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new _e(e,0,q.min(),He.empty(),0)}static newFoundDocument(e,n,r){return new _e(e,1,n,r,0)}static newNoDocument(e,n){return new _e(e,2,n,He.empty(),0)}static newUnknownDocument(e,n){return new _e(e,3,n,He.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function tp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dT(t,e,n,r,i,s,o)}function Rh(t){const e=U(t);if(e.R===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ko(e.startAt)),e.endAt&&(n+="|ub:",n+=Ko(e.endAt)),e.R=n}return e.R}function pT(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Nh(r.value)}`;var r}).join(", ")}]`),jr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: "+Ko(t.startAt)),t.endAt&&(e+=", endAt: "+Ko(t.endAt)),`Target(${e})`}function Dh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!IT(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!gt(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rp(t.startAt,e.startAt)&&rp(t.endAt,e.endAt)}function bu(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Me extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.P(e,n,r):new gT(e,n,r):n==="array-contains"?new wT(e,r):n==="in"?new ET(e,r):n==="not-in"?new ST(e,r):n==="array-contains-any"?new TT(e,r):new Me(e,n,r)}static P(e,n,r){return n==="in"?new yT(e,r):new vT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(Tr(n,this.value)):n!==null&&Rn(this.value)===Rn(n)&&this.v(Tr(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function mT(t){return t.field.canonicalString()+t.op.toString()+Nh(t.value)}class gT extends Me{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.v(n)}}class yT extends Me{constructor(e,n){super(e,"in",n),this.keys=By("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vT extends Me{constructor(e,n){super(e,"not-in",n),this.keys=By("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function By(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class wT extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xh(n)&&Ji(n.arrayValue,this.value)}}class ET extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ji(this.value.arrayValue,n)}}class ST extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ji(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ji(this.value.arrayValue,n)}}class TT extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ji(this.value.arrayValue,r))}}class Hu{constructor(e,n){this.position=e,this.before=n}}function Ko(t){return`${t.before?"b":"a"}:${t.position.map(e=>Nh(e)).join(",")}`}class Ni{constructor(e,n="asc"){this.field=e,this.dir=n}}function IT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function np(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=P.comparator(P.fromName(o.referenceValue),n.key):r=Tr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function rp(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.S=null,this.D=null,this.startAt,this.endAt}}function kT(t,e,n,r,i,s,o,a){return new ws(t,e,n,r,i,s,o,a)}function Pa(t){return new ws(t)}function io(t){return!jr(t.limit)&&t.limitType==="F"}function Wo(t){return!jr(t.limit)&&t.limitType==="L"}function zy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qy(t){for(const e of t.filters)if(e.V())return e.field;return null}function by(t){return t.collectionGroup!==null}function Zi(t){const e=U(t);if(e.S===null){e.S=[];const n=qy(e),r=zy(e);if(n!==null&&r===null)n.isKeyField()||e.S.push(new Ni(n)),e.S.push(new Ni(ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ni(ze.keyField(),s))}}}return e.S}function Dn(t){const e=U(t);if(!e.D)if(e.limitType==="F")e.D=tp(e.path,e.collectionGroup,Zi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ni(s.field,o))}const r=e.endAt?new Hu(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Hu(e.startAt.position,!e.startAt.before):null;e.D=tp(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function CT(t,e,n){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function La(t,e){return Dh(Dn(t),Dn(e))&&t.limitType===e.limitType}function Hy(t){return`${Rh(Dn(t))}|lt:${t.limitType}`}function Ku(t){return`Query(target=${pT(Dn(t))}; limitType=${t.limitType})`}function Oa(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!np(n.startAt,Zi(n),r)||n.endAt&&np(n.endAt,Zi(n),r))}(t,e)}function Ky(t){return(e,n)=>{let r=!1;for(const i of Zi(t)){const s=_T(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _T(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Tr(a,l):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(e)?"-0":e}}function Gy(t){return{integerValue:""+t}}function AT(t,e){return fT(e)?Gy(e):Wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this._=void 0}}function NT(t,e,n){return t instanceof Go?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof es?Yy(t,e):t instanceof Ir?Xy(t,e):function(r,i){const s=Qy(r,i),o=ip(s)+ip(r.N);return qu(s)&&qu(r.N)?Gy(o):Wy(r.k,o)}(t,e)}function xT(t,e,n){return t instanceof es?Yy(t,e):t instanceof Ir?Xy(t,e):n}function Qy(t,e){return t instanceof Qo?qu(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Go extends Ma{}class es extends Ma{constructor(e){super(),this.elements=e}}function Yy(t,e){const n=Jy(e);for(const r of t.elements)n.some(i=>gt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ir extends Ma{constructor(e){super(),this.elements=e}}function Xy(t,e){let n=Jy(e);for(const r of t.elements)n=n.filter(i=>!gt(i,r));return{arrayValue:{values:n}}}class Qo extends Ma{constructor(e,n){super(),this.k=e,this.N=n}}function ip(t){return oe(t.integerValue||t.doubleValue)}function Jy(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.field=e,this.transform=n}}function DT(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof es&&r instanceof es||n instanceof Ir&&r instanceof Ir?Er(n.elements,r.elements,gt):n instanceof Qo&&r instanceof Qo?gt(n.N,r.N):n instanceof Go&&r instanceof Go}(t.transform,e.transform)}class $T{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function so(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fa{}function PT(t,e,n){t instanceof Va?function(r,i,s){const o=r.value.clone(),a=ap(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zn?function(r,i,s){if(!so(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ap(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Zy(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n){t instanceof Va?function(r,i,s){if(!so(r.precondition,i))return;const o=r.value.clone(),a=lp(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(op(i),o).setHasLocalMutations()}(t,e,n):t instanceof zn?function(r,i,s){if(!so(r.precondition,i))return;const o=lp(r.fieldTransforms,s,i),a=i.data;a.setAll(Zy(r)),a.setAll(o),i.convertToFoundDocument(op(i),a).setHasLocalMutations()}(t,e,n):function(r,i){so(r.precondition,i)&&i.convertToNoDocument(q.min())}(t,e)}function LT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Qy(r.transform,i||null);s!=null&&(n==null&&(n=He.empty()),n.set(r.field,s))}return n||null}function sp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Er(n,r,(i,s)=>DT(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function op(t){return t.isFoundDocument()?t.version:q.min()}class Va extends Fa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class zn extends Fa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Zy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ap(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xT(o,a,n[i]))}return r}function lp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NT(s,o,e))}return r}class OT extends Fa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class MT extends Fa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se,B;function VT(t){switch(t){default:return V();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function ev(t){if(t===void 0)return Xt("GRPC error has no .code"),E.UNKNOWN;switch(t){case se.OK:return E.OK;case se.CANCELLED:return E.CANCELLED;case se.UNKNOWN:return E.UNKNOWN;case se.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case se.INTERNAL:return E.INTERNAL;case se.UNAVAILABLE:return E.UNAVAILABLE;case se.UNAUTHENTICATED:return E.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case se.NOT_FOUND:return E.NOT_FOUND;case se.ALREADY_EXISTS:return E.ALREADY_EXISTS;case se.PERMISSION_DENIED:return E.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case se.ABORTED:return E.ABORTED;case se.OUT_OF_RANGE:return E.OUT_OF_RANGE;case se.UNIMPLEMENTED:return E.UNIMPLEMENTED;case se.DATA_LOSS:return E.DATA_LOSS;default:return V()}}(B=se||(se={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||ge.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ge.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hs(this.root,e,this.comparator,!0)}}class Hs{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ge{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:ge.RED,this.left=i!=null?i:ge.EMPTY,this.right=s!=null?s:ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ge(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ge.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}ge.EMPTY=null,ge.RED=!0,ge.BLACK=!1;ge.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new up(this.data.getIterator())}getIteratorFrom(e){return new up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ee(this.comparator);return n.data=e,n}}class up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new $e(P.comparator);function $n(){return UT}const jT=new $e(P.comparator);function Gu(){return jT}const BT=new $e(P.comparator);function zT(){return BT}const qT=new Ee(P.comparator);function X(...t){let e=qT;for(const n of t)e=e.add(n);return e}const bT=new Ee(K);function tv(){return bT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Es.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ua(q.min(),r,tv(),$n(),X())}}class Es{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Es(Te.EMPTY_BYTE_STRING,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.O=i}}class nv{constructor(e,n){this.targetId=e,this.M=n}}class rv{constructor(e,n,r=Te.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cp{constructor(){this.F=0,this.L=fp(),this.B=Te.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return this.F!==0}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=X(),n=X(),r=X();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Es(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=fp()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class HT{constructor(e){this.et=e,this.nt=new Map,this.st=$n(),this.it=hp(),this.rt=new Ee(K)}ot(e){for(const n of e.$)e.O&&e.O.isFoundDocument()?this.ct(n,e.O):this.at(n,e.key,e.O);for(const n of e.removedTargetIds)this.at(n,e.key,e.O)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.M.count,i=this.wt(n);if(i){const s=i.target;if(bu(s))if(r===0){const o=new P(s.path);this.at(n,o,_e.newNoDocument(o,q.min()))}else G(r===1);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&bu(a.target)){const l=new P(a.target.path);this.st.get(l)!==null||this.yt(o,l)||this.at(o,l,_e.newNoDocument(l,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=X();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Ua(e,n,this.rt,this.st,r);return this.st=$n(),this.it=hp(),this.rt=new Ee(K),i}ct(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}at(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new cp,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Ee(K),this.it=this.it.insert(e,n)),n}lt(e){const n=this.wt(e)!==null;return n||R("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new cp),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function hp(){return new $e(P.comparator)}function fp(){return new $e(P.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),WT=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class GT{constructor(e,n){this.databaseId=e,this.C=n}}function Yo(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(t,e){return t.C?e.toBase64():e.toUint8Array()}function QT(t,e){return Yo(t,e.toTimestamp())}function _t(t){return G(!!t),q.fromTimestamp(function(e){const n=Jt(e);return new We(n.seconds,n.nanos)}(t))}function $h(t,e){return function(n){return new Z(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function sv(t){const e=Z.fromString(t);return G(lv(e)),e}function Qu(t,e){return $h(t.databaseId,e.path)}function Ml(t,e){const n=sv(e);if(n.get(1)!==t.databaseId.projectId)throw new N(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(ov(n))}function Yu(t,e){return $h(t.databaseId,e)}function YT(t){const e=sv(t);return e.length===4?Z.emptyPath():ov(e)}function Xu(t){return new Z(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ov(t){return G(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dp(t,e,n){return{name:Qu(t,e),fields:n.value.mapValue.fields}}function XT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.C?(G(u===void 0||typeof u=="string"),Te.fromBase64String(u||"")):(G(u===void 0||u instanceof Uint8Array),Te.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?E.UNKNOWN:ev(l.code);return new N(u,l.message||"")}(o);n=new rv(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ml(t,r.document.name),s=_t(r.document.updateTime),o=new He({mapValue:{fields:r.document.fields}}),a=_e.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new oo(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ml(t,r.document),s=r.readTime?_t(r.readTime):q.min(),o=_e.newNoDocument(i,s),a=r.removedTargetIds||[];n=new oo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ml(t,r.document),s=r.removedTargetIds||[];n=new oo([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new FT(i),o=r.targetId;n=new nv(o,s)}}return n}function JT(t,e){let n;if(e instanceof Va)n={update:dp(t,e.key,e.value)};else if(e instanceof OT)n={delete:Qu(t,e.key)};else if(e instanceof zn)n={update:dp(t,e.key,e.data),updateMask:lI(e.fieldMask)};else{if(!(e instanceof MT))return V();n={verify:Qu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Go)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ir)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),increment:o.N};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QT(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:V()}(t,e.precondition)),n}function ZT(t,e){return t&&t.length>0?(G(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?_t(r.updateTime):_t(i);return s.isEqual(q.min())&&(s=_t(i)),new $T(s,r.transformResults||[])}(n,e))):[]}function eI(t,e){return{documents:[Yu(t,e.path)]}}function tI(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Yu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length===0)return;const l=a.map(u=>function(c){if(c.op==="=="){if(ep(c.value))return{unaryFilter:{field:Wn(c.field),op:"IS_NAN"}};if(Zd(c.value))return{unaryFilter:{field:Wn(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(ep(c.value))return{unaryFilter:{field:Wn(c.field),op:"IS_NOT_NAN"}};if(Zd(c.value))return{unaryFilter:{field:Wn(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wn(c.field),op:sI(c.op),value:c.value}}}(u));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(l=>function(u){return{field:Wn(u.field),direction:iI(u.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(a,l){return a.C||jr(l)?l:{value:l}}(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=pp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pp(e.endAt)),n}function nI(t){let e=YT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=av(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(p){return new Ni(rr(p.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(c)));let a=null;n.limit&&(a=function(c){let p;return p=typeof c=="object"?c.value:c,jr(p)?null:p}(n.limit));let l=null;n.startAt&&(l=mp(n.startAt));let u=null;return n.endAt&&(u=mp(n.endAt)),kT(e,i,o,s,a,"F",l,u)}function rI(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function av(t){return t?t.unaryFilter!==void 0?[aI(t)]:t.fieldFilter!==void 0?[oI(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>av(e)).reduce((e,n)=>e.concat(n)):V():[]}function pp(t){return{before:t.before,values:t.position}}function mp(t){const e=!!t.before,n=t.values||[];return new Hu(n,e)}function iI(t){return KT[t]}function sI(t){return WT[t]}function Wn(t){return{fieldPath:t.canonicalString()}}function rr(t){return ze.fromServerFormat(t.fieldPath)}function oI(t){return Me.create(rr(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(t.fieldFilter.op),t.fieldFilter.value)}function aI(t){switch(t.unaryFilter.op){case"IS_NAN":const e=rr(t.unaryFilter.field);return Me.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=rr(t.unaryFilter.field);return Me.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=rr(t.unaryFilter.field);return Me.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=rr(t.unaryFilter.field);return Me.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function lI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ss(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PT(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Wu(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Wu(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(q.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&Er(this.mutations,e.mutations,(n,r)=>sp(n,r))&&Er(this.baseMutations,e.baseMutations,(n,r)=>sp(n,r))}}class Ph{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=zT();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ph(e,n,r,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Te.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Tn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.Gt=e}}function dI(t){const e=nI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?CT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.zt=new mI}addToCollectionParentIndex(e,n){return this.zt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.zt.getEntries(n))}}class mI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ee(Z.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ee(Z.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new kr(0)}static re(){return new kr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==uI)throw t;R("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Bn(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Fy(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:q.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:_e.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.bn(e,n,r))}bn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Pn(n,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return P.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Sn(e,n.path):by(n)?this.Dn(e,n,r):this.Cn(e,n,r)}Sn(e,n){return this.Rn(e,new P(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=Gu();return this.Jt.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const l=function(u,c){return new ws(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.Cn(e,l,r).next(u=>{u.forEach((c,p)=>{s=s.insert(c,p)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const l of s)for(const u of l.mutations){const c=u.key;let p=i.get(c);p==null&&(p=_e.newInvalidDocument(c),i=i.insert(c,p)),Wu(u,p,l.localWriteTime),p.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{Oa(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=X();for(const o of n)for(const a of o.mutations)a instanceof zn&&r.get(a.key)===null&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,l)=>{l.isFoundDocument()&&(s=s.insert(a,l))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{On(e){this.Mn=e}getDocumentsMatchingQuery(e,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(q.min())?this.Fn(e,n):this.Mn.vn(e,i).next(s=>{const o=this.Ln(n,s);return(io(n)||Wo(n))&&this.Bn(n.limitType,o,i,r)?this.Fn(e,n):(Gd()<=b.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ku(n)),this.Mn.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}Ln(e,n){let r=new Ee(Ky(e));return n.forEach((i,s)=>{Oa(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return Gd()<=b.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.Mn.getDocumentsMatchingQuery(e,n,q.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new $e(K),this.Kn=new Is(s=>Rh(s),Dh),this.jn=q.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new uv(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function wI(t,e,n,r){return new vI(t,e,n,r)}async function cv(t,e){const n=U(t);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(l=>(a=l,r=n.persistence.getMutationQueue(e),i=new uv(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(l=>{const u=[],c=[];let p=X();for(const d of a){u.push(d.batchId);for(const g of d.mutations)p=p.add(g.key)}for(const d of l){c.push(d.batchId);for(const g of d.mutations)p=p.add(g.key)}return i.vn(o,p).next(d=>({Gn:d,removedBatchIds:u,addedBatchIds:c}))})});return n.An=r,n.Wn=i,n.Un.On(n.Wn),s}function EI(t,e){const n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,p=c.keys();let d=C.resolve();return p.forEach(g=>{d=d.next(()=>u.getEntry(a,g)).next(w=>{const S=l.docVersions.get(g);G(S!==null),w.version.compareTo(S)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&u.addEntry(w,l.commitVersion))})}),d.next(()=>o.An.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function hv(t){const e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function SI(t,e){const n=U(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((u,c)=>{const p=i.get(c);if(!p)return;a.push(n.He.removeMatchingKeys(s,u.removedDocuments,c).next(()=>n.He.addMatchingKeys(s,u.addedDocuments,c)));let d=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(c)?d=d.withResumeToken(Te.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(c,d),function(g,w,S){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,d,u)&&a.push(n.He.updateTargetData(s,d))});let l=$n();if(e.documentUpdates.forEach((u,c)=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(TI(s,o,e.documentUpdates,r,void 0).next(u=>{l=u})),!r.isEqual(q.min())){const u=n.He.getLastRemoteSnapshotVersion(s).next(c=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,l)).next(()=>l)}).then(s=>(n.qn=i,s))}function TI(t,e,n,r,i){let s=X();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=$n();return n.forEach((l,u)=>{const c=o.get(l),p=(i==null?void 0:i.get(l))||r;u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(l,p),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u,p),a=a.insert(l,u)):R("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),a})}function II(t,e){const n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function kI(t,e){const n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Tn(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}async function Ju(t,e,n){const r=U(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ss(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}function gp(t,e,n){const r=U(t);let i=q.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=U(a),p=c.Kn.get(u);return p!==void 0?C.resolve(c.qn.get(p)):c.He.getTargetData(l,u)}(r,o,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:X())).next(a=>({documents:a,zn:s})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return C.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,function(r){return{name:r.name,query:dI(r.bundledQuery),readTime:_t(r.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.ts=new Ee(ce.es),this.ns=new Ee(ce.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new ce(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new ce(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new P(new Z([])),r=new ce(n,e),i=new ce(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new P(new Z([])),r=new ce(n,e),i=new ce(n,e+1);let s=X();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ce(e,0),r=this.ts.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ce{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return P.comparator(e.key,n.key)||K(e.fs,n.fs)}static ss(e,n){return K(e.fs,n.fs)||P.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Ee(ce.es)}checkEmpty(e){return C.resolve(this.An.length===0)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new hI(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new ce(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.gs(r),s=i<0?0:i;return C.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.An.length===0?-1:this.ds-1)}getAllMutationBatches(e){return C.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ce(n,0),i=new ce(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(K);return n.forEach(i=>{const s=new ce(i,0),o=new ce(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),C.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new ce(new P(s),0);let a=new Ee(K);return this.ws.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.fs)),!0)},o),C.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){G(this.ps(n.batchId,"removed")===0),this.An.shift();let r=this.ws;return C.forEach(n.mutations,i=>{const s=new ce(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new ce(n,0),i=this.ws.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.An.length,C.resolve()}ps(e,n){return this.gs(e)}gs(e){return this.An.length===0?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new $e(P.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():_e.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_e.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=$n();const s=new P(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l,readTime:u}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;u.compareTo(r)<=0||Oa(n,l)&&(i=i.insert(l.key,l.mutableCopy()))}return C.resolve(i)}Es(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NI(this)}getSize(e){return C.resolve(this.size)}}class NI extends gI{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.persistence=e,this.Is=new Is(n=>Rh(n),Dh),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.As=0,this.Rs=new Oh,this.targetCount=0,this.bs=kr.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),C.resolve()}ae(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new kr(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ae(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ae(n),C.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Rs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.Ps={},this.Be=new Ah(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new xI(this),this.Jt=new pI,this.Je=function(r,i){return new AI(r,i)}(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new fI(n),this.Ye=new CI(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.Ps[e.toKey()];return n||(n=new _I(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);const i=new DI(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return C.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class DI extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class Mh{constructor(e){this.persistence=e,this.Cs=new Oh,this.Ns=null}static ks(e){return new Mh(e)}get xs(){if(this.Ns)return this.Ns;throw V()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=P.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class yp{constructor(){this.activeTargetIds=tv()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $I{constructor(){this.pi=new yp,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new yp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{Ei(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.Fi=n+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);R("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(l=>(R("RestConnection","Received: ",l),l),l=>{throw Qd("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ur,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){const r=LI[e];return`${this.Fi}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new tT;a.listenOnce(JS.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ol.NO_ERROR:const u=a.getResponseJson();R("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Ol.TIMEOUT:R("Connection",'RPC "'+e+'" timed out'),o(new N(E.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const c=a.getStatus();if(R("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const p=a.getResponseJson().error;if(p&&p.status&&p.message){const d=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(w)>=0?w:E.UNKNOWN}(p.status);o(new N(d,p.message))}else o(new N(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new N(E.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{R("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}Qi(e,n,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YS(),o=XS(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new eT({})),this.qi(a.initMessageHeaders,n,r),W1()||G1()||Q1()||Y1()||X1()||Pg()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");R("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,p=!1;const d=new OI({Vi:w=>{p?R("Connection","Not sending because WebChannel is closed:",w):(c||(R("Connection","Opening WebChannel transport."),u.open(),c=!0),R("Connection","WebChannel sending:",w),u.send(w))},Si:()=>u.close()}),g=(w,S,f)=>{w.listen(S,h=>{try{f(h)}catch(m){setTimeout(()=>{throw m},0)}})};return g(u,bs.EventType.OPEN,()=>{p||R("Connection","WebChannel transport opened.")}),g(u,bs.EventType.CLOSE,()=>{p||(p=!0,R("Connection","WebChannel transport closed"),d.Oi())}),g(u,bs.EventType.ERROR,w=>{p||(p=!0,Qd("Connection","WebChannel transport errored:",w),d.Oi(new N(E.UNAVAILABLE,"The operation could not be completed")))}),g(u,bs.EventType.MESSAGE,w=>{var S;if(!p){const f=w.data[0];G(!!f);const h=f,m=h.error||((S=h[0])===null||S===void 0?void 0:S.error);if(m){R("Connection","WebChannel received error:",m);const y=m.status;let v=function(I){const $=se[I];if($!==void 0)return ev($)}(y),x=m.message;v===void 0&&(v=E.INTERNAL,x="Unknown error status: "+y+" with message "+m.message),p=!0,d.Oi(new N(v,x)),u.close()}else R("Connection","WebChannel received:",f),d.Mi(f)}}),g(o,ZS.STAT_EVENT,w=>{w.stat===Kd.PROXY?R("Connection","Detected buffering proxy"):w.stat===Kd.NOPROXY&&R("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.$i()},0),d}}function Fl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return new GT(t,!0)}class fv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){this.Ji!==null&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){this.Ji!==null&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,s,o,a,l){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new fv(e,n)}hr(){return this.state===1||this.state===5||this.lr()}lr(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&this.cr===null&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(e,n){this.yr(),this.pr(),this.ur.cancel(),this.rr++,e!==4?this.ur.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(n)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new N(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Me.enqueueAndForget(()=>this.rr===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FI extends dv{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=XT(this.k,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?_t(s.readTime):q.min()}(e);return this.listener.br(n,r)}Pr(e){const n={};n.database=Xu(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=bu(a)?{documents:eI(i,a)}:{query:tI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=iv(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=Yo(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=rI(this.k,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=Xu(this.k),n.removeTarget=e,this.gr(n)}}class VI extends dv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=ZT(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.Cr(r,n)}return G(!e.writeResults||e.writeResults.length===0),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Xu(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JT(this.k,r))};this.gr(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new N(E.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(E.UNKNOWN,i.toString())})}ji(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(E.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class jI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){this.Mr===0&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){this.state==="Online"?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,e==="Online"&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Xt(n),this.Lr=!1):R("OnlineStateTracker",n)}jr(){this.Fr!==null&&(this.Fr.cancel(),this.Fr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(o=>{r.enqueueAndForget(async()=>{qn(this)&&(R("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=U(a);l.Gr.add(4),await ks(l),l.Jr.set("Unknown"),l.Gr.delete(4),await Ba(l)}(this))})}),this.Jr=new jI(r,i)}}async function Ba(t){if(qn(t))for(const e of t.zr)await e(!0)}async function ks(t){for(const e of t.zr)await e(!1)}function pv(t,e){const n=U(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),Uh(n)?Vh(n):Br(n).lr()&&Fh(n,e))}function mv(t,e){const n=U(t),r=Br(n);n.Wr.delete(e),r.lr()&&gv(n,e),n.Wr.size===0&&(r.lr()?r._r():qn(n)&&n.Jr.set("Unknown"))}function Fh(t,e){t.Yr.X(e.targetId),Br(t).Pr(e)}function gv(t,e){t.Yr.X(e),Br(t).vr(e)}function Vh(t){t.Yr=new HT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Br(t).start(),t.Jr.Br()}function Uh(t){return qn(t)&&!Br(t).hr()&&t.Wr.size>0}function qn(t){return U(t).Gr.size===0}function yv(t){t.Yr=void 0}async function zI(t){t.Wr.forEach((e,n)=>{Fh(t,e)})}async function qI(t,e){yv(t),Uh(t)?(t.Jr.Kr(e),Vh(t)):t.Jr.set("Unknown")}async function bI(t,e,n){if(t.Jr.set("Online"),e instanceof rv&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Wr.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Wr.delete(o),r.Yr.removeTarget(o))}(t,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xo(t,r)}else if(e instanceof oo?t.Yr.ot(e):e instanceof nv?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(q.min()))try{const r=await hv(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Wr.get(l);u&&i.Wr.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.Wr.get(a);if(!l)return;i.Wr.set(a,l.withResumeToken(Te.EMPTY_BYTE_STRING,l.snapshotVersion)),gv(i,a);const u=new Tn(l.target,a,1,l.sequenceNumber);Fh(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){R("RemoteStore","Failed to raise snapshot:",r),await Xo(t,r)}}async function Xo(t,e,n){if(!Ss(e))throw e;t.Gr.add(1),await ks(t),t.Jr.set("Offline"),n||(n=()=>hv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{R("RemoteStore","Retrying IndexedDB access"),await n(),t.Gr.delete(1),await Ba(t)})}function vv(t,e){return e().catch(n=>Xo(t,n,e))}async function za(t){const e=U(t),n=Zt(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;HI(e);)try{const i=await II(e.localStore,r);if(i===null){e.Qr.length===0&&n._r();break}r=i.batchId,KI(e,i)}catch(i){await Xo(e,i)}wv(e)&&Ev(e)}function HI(t){return qn(t)&&t.Qr.length<10}function KI(t,e){t.Qr.push(e);const n=Zt(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function wv(t){return qn(t)&&!Zt(t).hr()&&t.Qr.length>0}function Ev(t){Zt(t).start()}async function WI(t){Zt(t).kr()}async function GI(t){const e=Zt(t);for(const n of t.Qr)e.Dr(n.mutations)}async function QI(t,e,n){const r=t.Qr.shift(),i=Ph.from(r,e,n);await vv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await za(t)}async function YI(t,e){e&&Zt(t).Sr&&await async function(n,r){if(i=r.code,VT(i)&&i!==E.ABORTED){const s=n.Qr.shift();Zt(n).wr(),await vv(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await za(n)}var i}(t,e),wv(t)&&Ev(t)}async function wp(t,e){const n=U(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=qn(n);n.Gr.add(3),await ks(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Gr.delete(3),await Ba(n)}async function XI(t,e){const n=U(t);e?(n.Gr.delete(2),await Ba(n)):e||(n.Gr.add(2),await ks(n),n.Jr.set("Unknown"))}function Br(t){return t.Xr||(t.Xr=function(e,n,r){const i=U(e);return i.Or(),new FI(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:zI.bind(null,t),Ni:qI.bind(null,t),br:bI.bind(null,t)}),t.zr.push(async e=>{e?(t.Xr.wr(),Uh(t)?Vh(t):t.Jr.set("Unknown")):(await t.Xr.stop(),yv(t))})),t.Xr}function Zt(t){return t.Zr||(t.Zr=function(e,n,r){const i=U(e);return i.Or(),new VI(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:WI.bind(null,t),Ni:YI.bind(null,t),Nr:GI.bind(null,t),Cr:QI.bind(null,t)}),t.zr.push(async e=>{e?(t.Zr.wr(),await za(t)):(await t.Zr.stop(),t.Qr.length>0&&(R("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))})),t.Zr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jh(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(t,e){if(Xt("AsyncQueue",`${e}: ${t}`),Ss(t))return new N(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new pr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.eo=new $e(P.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?e.type!==0&&r.type===3?this.eo=this.eo.insert(n,e):e.type===3&&r.type!==1?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.eo=this.eo.remove(n):e.type===1&&r.type===2?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):V():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cr{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Cr(e,n,pr.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&La(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.so=void 0,this.listeners=[]}}class ZI{constructor(){this.queries=new Is(e=>Hy(e),La),this.onlineState="Unknown",this.io=new Set}}async function zh(t,e){const n=U(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new JI),i)try{s.so=await n.onListen(r)}catch(o){const a=Bh(o,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&bh(n)}async function qh(t,e){const n=U(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ek(t,e){const n=U(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&bh(n)}function tk(t,e,n){const r=U(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function bh(t){t.io.forEach(e=>{e.next()})}class Hh{constructor(e,n,r){this.query=e,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.ao?this.ho(e)&&(this.co.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.wo||!r)&&(!e.docs.isEmpty()||n==="Offline")}ho(e){if(e.docChanges.length>0)return!0;const n=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}fo(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.key=e}}class Tv{constructor(e){this.key=e}}class nk{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=X(),this.mutatedKeys=X(),this.Ao=Ky(e),this.Ro=new pr(this.Ao)}get bo(){return this.To}Po(e,n){const r=n?n.vo:new Ep,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=io(this.query)&&i.size===this.query.limit?i.last():null,u=Wo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,p)=>{const d=i.get(c),g=Oa(this.query,p)?p:null,w=!!d&&this.mutatedKeys.has(d.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let f=!1;d&&g?d.data.isEqual(g.data)?w!==S&&(r.track({type:3,doc:g}),f=!0):this.Vo(d,g)||(r.track({type:2,doc:g}),f=!0,(l&&this.Ao(g,l)>0||u&&this.Ao(g,u)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),f=!0):d&&!g&&(r.track({type:1,doc:d}),f=!0,(l||u)&&(a=!0)),f&&(g?(o=o.add(g),s=S?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),io(this.query)||Wo(this.query))for(;o.size>this.query.limit;){const c=io(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((u,c)=>function(p,d){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return g(p)-g(d)}(u.type,c.type)||this.Ao(u.doc,c.doc)),this.So(r);const o=n?this.Do():[],a=this.Io.size===0&&this.current?1:0,l=a!==this.Eo;return this.Eo=a,s.length!==0||l?{snapshot:new Cr(this.query,e.Ro,i,s,e.mutatedKeys,a===0,l,!1),Co:o}:{Co:o}}ro(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Ep,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=X(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new Tv(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new Sv(r))}),n}ko(e){this.To=e.zn,this.Io=X();const n=this.Po(e.documents);return this.applyChanges(n,!0)}xo(){return Cr.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,this.Eo===0)}}class rk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ik{constructor(e){this.key=e,this.$o=!1}}class sk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Is(a=>Hy(a),La),this.Fo=new Map,this.Lo=new Set,this.Bo=new $e(P.comparator),this.Uo=new Map,this.qo=new Oh,this.Ko={},this.jo=new Map,this.Qo=kr.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return this.Wo===!0}}async function ok(t,e){const n=gk(t);let r,i;const s=n.Mo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=await kI(n.localStore,Dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await ak(n,e,r,a==="current"),n.isPrimaryClient&&pv(n.remoteStore,o)}return i}async function ak(t,e,n,r){t.Go=(c,p,d)=>async function(g,w,S,f){let h=w.view.Po(S);h.Bn&&(h=await gp(g.localStore,w.query,!1).then(({documents:v})=>w.view.Po(v,h)));const m=f&&f.targetChanges.get(w.targetId),y=w.view.applyChanges(h,g.isPrimaryClient,m);return Tp(g,w.targetId,y.Co),y.snapshot}(t,c,p,d);const i=await gp(t.localStore,e,!0),s=new nk(e,i.zn),o=s.Po(i.documents),a=Es.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);Tp(t,n,l.Co);const u=new rk(e,n,s);return t.Mo.set(e,u),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),l.snapshot}async function lk(t,e){const n=U(t),r=n.Mo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!La(s,e))),void n.Mo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ju(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mv(n.remoteStore,r.targetId),Zu(n,r.targetId)}).catch(Ts)):(Zu(n,r.targetId),await Ju(n.localStore,r.targetId,!0))}async function uk(t,e,n){const r=yk(t);try{const i=await function(s,o){const a=U(s),l=We.now(),u=o.reduce((p,d)=>p.add(d.key),X());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>a.Wn.vn(p,u).next(d=>{c=d;const g=[];for(const w of o){const S=LT(w,c.get(w.key));S!=null&&g.push(new zn(w.key,S,jy(S.value.mapValue),Sn.exists(!0)))}return a.An.addMutationBatch(p,l,g,o)})).then(p=>(p.applyToLocalDocumentSet(c),{batchId:p.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Ko[s.currentUser.toKey()];l||(l=new $e(K)),l=l.insert(o,a),s.Ko[s.currentUser.toKey()]=l}(r,i.batchId,n),await Cs(r,i.changes),await za(r.remoteStore)}catch(i){const s=Bh(i,"Failed to persist write");n.reject(s)}}async function Iv(t,e){const n=U(t);try{const r=await SI(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?G(o.$o):i.removedDocuments.size>0&&(G(o.$o),o.$o=!1))}),await Cs(n,r,e)}catch(r){await Ts(r)}}function Sp(t,e,n){const r=U(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=U(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const p of c.listeners)p.ro(o)&&(l=!0)}),l&&bh(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ck(t,e,n){const r=U(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new $e(P.comparator);o=o.insert(s,_e.newNoDocument(s,q.min()));const a=X().add(s),l=new Ua(q.min(),new Map,new Ee(K),o,a);await Iv(r,l),r.Bo=r.Bo.remove(s),r.Uo.delete(e),Kh(r)}else await Ju(r.localStore,e,!1).then(()=>Zu(r,e,n)).catch(Ts)}async function hk(t,e){const n=U(t),r=e.batch.batchId;try{const i=await EI(n.localStore,e);Cv(n,r,null),kv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cs(n,i)}catch(i){await Ts(i)}}async function fk(t,e,n){const r=U(t);try{const i=await function(s,o){const a=U(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.An.lookupMutationBatch(l,o).next(c=>(G(c!==null),u=c.keys(),a.An.removeMutationBatch(l,c))).next(()=>a.An.performConsistencyCheck(l)).next(()=>a.Wn.vn(l,u))})}(r.localStore,e);Cv(r,e,n),kv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cs(r,i)}catch(i){await Ts(i)}}function kv(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function Cv(t,e,n){const r=U(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Mo.delete(r),n&&t.Oo.zo(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||_v(t,r)})}function _v(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);n!==null&&(mv(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),Kh(t))}function Tp(t,e,n){for(const r of n)r instanceof Sv?(t.qo.addReference(r.key,e),dk(t,r)):r instanceof Tv?(R("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||_v(t,r.key)):V()}function dk(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(R("SyncEngine","New document in limbo: "+n),t.Lo.add(r),Kh(t))}function Kh(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new P(Z.fromString(e)),r=t.Qo.next();t.Uo.set(r,new ik(n)),t.Bo=t.Bo.insert(n,r),pv(t.remoteStore,new Tn(Dn(Pa(n.path)),r,2,Ah.I))}}async function Cs(t,e,n){const r=U(t),i=[],s=[],o=[];r.Mo.isEmpty()||(r.Mo.forEach((a,l)=>{o.push(r.Go(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=Lh.$n(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Oo.br(i),await async function(a,l){const u=U(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>C.forEach(l,p=>C.forEach(p.kn,d=>u.persistence.referenceDelegate.addReference(c,p.targetId,d)).next(()=>C.forEach(p.xn,d=>u.persistence.referenceDelegate.removeReference(c,p.targetId,d)))))}catch(c){if(!Ss(c))throw c;R("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const p=c.targetId;if(!c.fromCache){const d=u.qn.get(p),g=d.snapshotVersion,w=d.withLastLimboFreeSnapshotVersion(g);u.qn=u.qn.insert(p,w)}}}(r.localStore,s))}async function pk(t,e){const n=U(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=await cv(n.localStore,e);n.currentUser=e,function(i,s){i.jo.forEach(o=>{o.forEach(a=>{a.reject(new N(E.CANCELLED,s))})}),i.jo.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cs(n,r.Gn)}}function mk(t,e){const n=U(t),r=n.Uo.get(e);if(r&&r.$o)return X().add(r.key);{let i=X();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function gk(t){const e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ck.bind(null,e),e.Oo.br=ek.bind(null,e.eventManager),e.Oo.zo=tk.bind(null,e.eventManager),e}function yk(t){const e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,e),e}class vk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=ja(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return wI(this.persistence,new yI,e.initialUser,this.k)}Yo(e){return new RI(Mh.ks,this.k)}Jo(e){return new $I}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ZI}createDatastore(e){const n=ja(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new MI(i));var i;return function(s,o,a,l){return new UI(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Sp(this.syncEngine,a,0),o=vp.Pt()?new vp:new PI,new BI(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new sk(r,i,s,o,a,l);return u&&(c.Wo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=U(e);R("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),await ks(n),n.Hr.shutdown(),n.Jr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=My.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{R("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sk(t,e){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Tk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ik(t);R("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>wp(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>wp(e.remoteStore,s)),t.onlineComponents=e}async function Ik(t){return t.offlineComponents||(R("FirestoreClient","Using default OfflineComponentProvider"),await Sk(t,new vk)),t.offlineComponents}async function Av(t){return t.onlineComponents||(R("FirestoreClient","Using default OnlineComponentProvider"),await Tk(t,new wk)),t.onlineComponents}function kk(t){return Av(t).then(e=>e.syncEngine)}async function Jo(t){const e=await Av(t),n=e.eventManager;return n.onListen=ok.bind(null,e.syncEngine),n.onUnlisten=lk.bind(null,e.syncEngine),n}function Ck(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Wh({next:p=>{s.enqueueAndForget(()=>qh(i,c));const d=p.docs.has(o);!d&&p.fromCache?l.reject(new N(E.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&p.fromCache&&a&&a.source==="server"?l.reject(new N(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new Hh(Pa(o.path),u,{includeMetadataChanges:!0,wo:!0});return zh(i,c)}(await Jo(t),t.asyncQueue,e,n,r)),r.promise}function _k(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Wh({next:p=>{s.enqueueAndForget(()=>qh(i,c)),p.fromCache&&a.source==="server"?l.reject(new N(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new Hh(o,u,{includeMetadataChanges:!0,wo:!0});return zh(i,c)}(await Jo(t),t.asyncQueue,e,n,r)),r.promise}class Ak{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ts{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ts&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e,n){if(!n)throw new N(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nk(t,e,n,r){if(e===!0&&r===!0)throw new N(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kp(t){if(!P.isDocumentKey(t))throw new N(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(P.isDocumentKey(t))throw new N(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qa(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function ut(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qa(t);throw new N(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new N(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1,e instanceof ts?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new N(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ts(i.options.projectId)}(e))}get app(){if(!this._app)throw new N(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new rT;switch(n.type){case"gapi":const r=n.client;return G(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new oT(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new N(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ip.get(e);n&&(R("ComponentProvider","Removing Datastore"),Ip.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}}class zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class bt extends zr{constructor(e,n,r){super(e,n,Pa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new P(e))}withConverter(e){return new bt(this.firestore,e,this._path)}}function E_(t,e,...n){if(t=it(t),Nv("collection","path",e),t instanceof Gh){const r=Z.fromString(e,...n);return Cp(r),new bt(t,null,r)}{if(!(t instanceof Re||t instanceof bt))throw new N(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Z.fromString(e,...n));return Cp(r),new bt(t.firestore,null,r)}}function S_(t,e,...n){if(t=it(t),arguments.length===1&&(e=My.A()),Nv("doc","path",e),t instanceof Gh){const r=Z.fromString(e,...n);return kp(r),new Re(t,null,new P(r))}{if(!(t instanceof Re||t instanceof bt))throw new N(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Z.fromString(e,...n));return kp(r),new Re(t.firestore,t instanceof bt?t.converter:null,new P(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new fv(this,"async_queue_retry"),this.bc=()=>{const n=Fl();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Fl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const n=Fl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const n=new Ct;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}async Vc(){if(this.gc.length!==0){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(e){if(!Ss(e))throw e;R("AsyncQueue","Operation failed with retryable error: "+e)}this.gc.length>0&&this.ur.Zi(()=>this.Vc())}}vc(e){const n=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{this.Ec=r,this.Ic=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Xt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ic=!1,r))));return this.mc=n,n}enqueueAfterDelay(e,n,r){this.Pc(),this.Rc.indexOf(e)>-1&&(n=0);const i=jh.createAndSchedule(this,e,n,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&V()}verifyOperationInProgress(){}async Dc(){let e;do e=this.mc,await e;while(e!==this.mc)}Cc(e){for(const n of this.Tc)if(n.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const n=this.Tc.indexOf(e);this.Tc.splice(n,1)}}function Ap(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pn extends Gh{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new xk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xv(this),this._firestoreClient.terminate()}}function T_(t=Og()){return us(t,"firestore").getImmediate()}function ba(t){return t._firestoreClient||xv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xv(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new Ak(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ek(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function I_(){return new _s("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(Te.fromBase64String(e))}catch(n){throw new N(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _r(Te.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=/^__.*__$/;class Dk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}class Rv{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Ka{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,s===void 0&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Ka(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Zo(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(e.length===0)throw this.qc("Document fields must not be empty");if(Dv(this.$c)&&Rk.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class $k{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||ja(e)}Qc(e,n,r,i=!1){return new Ka({$c:e,methodName:n,jc:r,path:ze.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Yh(t){const e=t._freezeSettings(),n=ja(t._databaseId);return new $k(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pk(t,e,n,r,i,s={}){const o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);Xh("Data must be an object, but it was:",o,r);const a=$v(r,o);let l,u;if(s.merge)l=new Yi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const p of s.mergeFields){const d=ec(e,p,n);if(!o.contains(d))throw new N(E.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Lv(c,d)||c.push(d)}l=new Yi(c),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new Dk(new He(a),l,u)}class Wa extends Ha{_toFieldTransform(e){if(e.$c!==2)throw e.$c===1?e.qc(`${this._methodName}() can only appear at the top level of your update data`):e.qc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wa}}function Lk(t,e,n){return new Ka({$c:3,jc:e.settings.jc,methodName:t._methodName,Fc:n},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Ok extends Ha{constructor(e,n){super(e),this.Wc=n}_toFieldTransform(e){const n=Lk(this,e,!0),r=this.Wc.map(s=>qr(s,n)),i=new Ir(r);return new RT(e.path,i)}isEqual(e){return this===e}}function Mk(t,e,n,r){const i=t.Qc(1,e,n);Xh("Data must be an object, but it was:",i,r);const s=[],o=He.empty();Bn(r,(l,u)=>{const c=Jh(e,l,n);u=it(u);const p=i.Bc(c);if(u instanceof Wa)s.push(c);else{const d=qr(u,p);d!=null&&(s.push(c),o.set(c,d))}});const a=new Yi(s);return new Rv(o,a,i.fieldTransforms)}function Fk(t,e,n,r,i,s){const o=t.Qc(1,e,n),a=[ec(e,r,n)],l=[i];if(s.length%2!=0)throw new N(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ec(e,s[d])),l.push(s[d+1]);const u=[],c=He.empty();for(let d=a.length-1;d>=0;--d)if(!Lv(u,a[d])){const g=a[d];let w=l[d];w=it(w);const S=o.Bc(g);if(w instanceof Wa)u.push(g);else{const f=qr(w,S);f!=null&&(u.push(g),c.set(g,f))}}const p=new Yi(u);return new Rv(c,p,o.fieldTransforms)}function Vk(t,e,n,r=!1){return qr(n,t.Qc(r?4:3,e))}function qr(t,e){if(Pv(t=it(t)))return Xh("Unsupported field value:",e,t),$v(t,e);if(t instanceof Ha)return function(n,r){if(!Dv(r.$c))throw r.qc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.$c!==4)throw e.qc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qr(o,r.Uc(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=it(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AT(r.k,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:Yo(r.k,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yo(r.k,i)}}if(n instanceof Qh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _r)return{bytesValue:iv(r.k,n._byteString)};if(n instanceof Re){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$h(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.qc(`Unsupported field value: ${qa(n)}`)}(t,e)}function $v(t,e){const n={};return Fy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bn(t,(r,i)=>{const s=qr(i,e.Mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Pv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Qh||t instanceof _r||t instanceof Re||t instanceof Ha)}function Xh(t,e,n){if(!Pv(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qa(n);throw r==="an object"?e.qc(t+" a custom object"):e.qc(t+" "+r)}}function ec(t,e,n){if((e=it(e))instanceof _s)return e._internalPath;if(typeof e=="string")return Jh(t,e);throw Zo("Field path arguments must be of type string or ",t,!1,void 0,n)}const Uk=new RegExp("[~\\*/\\[\\]]");function Jh(t,e,n){if(e.search(Uk)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _s(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zo(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new N(E.INVALID_ARGUMENT,a+t+l)}function Lv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jk extends Ov{data(){return super.data()}}function Zh(t,e){return typeof e=="string"?Jh(t,e):e instanceof _s?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mv extends Ov{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ao extends Mv{data(e={}){return super.data(e)}}class Fv{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ao(this._firestore,this._userDataWriter,r.key,r,new fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ao(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ao(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Bk(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){if(Wo(t)&&t.explicitOrderBy.length===0)throw new N(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zk{}function k_(t,...e){for(const n of e)t=n._apply(t);return t}class qk extends zk{constructor(e,n,r){super(),this.zc=e,this.Hc=n,this.Jc=r,this.type="where"}_apply(e){const n=Yh(e.firestore),r=function(i,s,o,a,l,u,c){let p;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new N(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){xp(c,u);const g=[];for(const w of c)g.push(Np(a,i,w));p={arrayValue:{values:g}}}else p=Np(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||xp(c,u),p=Vk(o,s,c,u==="in"||u==="not-in");const d=Me.create(l,u,p);return function(g,w){if(w.V()){const f=qy(g);if(f!==null&&!f.isEqual(w.field))throw new N(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${f.toString()}' and '${w.field.toString()}'`);const h=zy(g);h!==null&&bk(g,w.field,h)}const S=function(f,h){for(const m of f.filters)if(h.indexOf(m.op)>=0)return m.op;return null}(g,function(f){switch(f){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(w.op));if(S!==null)throw S===w.op?new N(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${w.op.toString()}' filter.`):new N(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${w.op.toString()}' filters with '${S.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new zr(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function C_(t,e,n){const r=e,i=Zh("where",t);return new qk(i,r,n)}function Np(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new N(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!by(e)&&n.indexOf("/")!==-1)throw new N(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Z.fromString(n));if(!P.isDocumentKey(r))throw new N(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jd(t,new P(r))}if(n instanceof Re)return Jd(t,n._key);throw new N(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qa(n)}.`)}function xp(t,e){if(!Array.isArray(t)||t.length===0)throw new N(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new N(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function bk(t,e,n){if(!n.isEqual(e))throw new N(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{convertValue(e,n="none"){switch(Rn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){const r={};return Bn(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qh(oe(e.latitude),oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xi(e));default:return null}}convertTimestamp(e){const n=Jt(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Z.fromString(e);G(lv(r));const i=new ts(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||Xt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){t=ut(t,Re);const e=ut(t.firestore,Pn);return Ck(ba(e),t._key).then(n=>jv(e,t,n))}class ef extends Hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,n)}}function A_(t){t=ut(t,zr);const e=ut(t.firestore,Pn),n=ba(e),r=new ef(e);return Vv(t._query),_k(n,t._query).then(i=>new Fv(e,r,t,i))}function N_(t,e,n){t=ut(t,Re);const r=ut(t.firestore,Pn),i=Kk(t.converter,e,n);return Uv(r,[Pk(Yh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sn.none())])}function x_(t,e,n,...r){t=ut(t,Re);const i=ut(t.firestore,Pn),s=Yh(i);let o;return o=typeof(e=it(e))=="string"||e instanceof _s?Fk(s,"updateDoc",t._key,e,n,r):Mk(s,"updateDoc",t._key,e),Uv(i,[o.toMutation(t._key,Sn.exists(!0))])}function R_(t,...e){var n,r,i;t=it(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Ap(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ap(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,c;if(t instanceof Re)u=ut(t.firestore,Pn),c=Pa(t._key.path),l={next:p=>{e[o]&&e[o](jv(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=ut(t,zr);u=ut(p.firestore,Pn),c=p._query;const d=new ef(u);l={next:g=>{e[o]&&e[o](new Fv(u,d,p,g))},error:e[o+1],complete:e[o+2]},Vv(t._query)}return function(p,d,g,w){const S=new Wh(w),f=new Hh(d,S,g);return p.asyncQueue.enqueueAndForget(async()=>zh(await Jo(p),f)),()=>{S.nc(),p.asyncQueue.enqueueAndForget(async()=>qh(await Jo(p),f))}}(ba(u),c,a,l)}function Uv(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(async()=>uk(await kk(n),r,i)),i.promise}(ba(t),e)}function jv(t,e,n){const r=n.docs.get(e._key),i=new ef(t);return new Mv(t,i,e._key,r,new fi(n.hasPendingWrites,n.fromCache),e.converter)}function D_(...t){return new Ok("arrayRemove",t)}(function(t,e=!0){(function(n){Ur=n})(WE),_n(new Yt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Pn(i,new iT(n.getProvider("auth-internal")),new lT(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),mt(Wd,"3.4.4",t),mt(Wd,"3.4.4","esm2017")})();var Wk="firebase",Gk="9.6.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt(Wk,Gk,"app");function Qk(t){return Array.prototype.slice.call(t)}function Bv(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function tf(t,e,n){var r,i=new Promise(function(s,o){r=t[e].apply(t,n),Bv(r).then(s,o)});return i.request=r,i}function Yk(t,e,n){var r=tf(t,e,n);return r.then(function(i){if(!!i)return new ns(i,r.request)})}function br(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function nf(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return tf(this[e],i,arguments)})})}function Ga(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function zv(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Yk(this[e],i,arguments)})})}function bn(t){this._index=t}br(bn,"_index",["name","keyPath","multiEntry","unique"]);nf(bn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);zv(bn,"_index",IDBIndex,["openCursor","openKeyCursor"]);function ns(t,e){this._cursor=t,this._request=e}br(ns,"_cursor",["direction","key","primaryKey","value"]);nf(ns,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(ns.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),Bv(e._request).then(function(r){if(!!r)return new ns(r,e._request)})})})});function vt(t){this._store=t}vt.prototype.createIndex=function(){return new bn(this._store.createIndex.apply(this._store,arguments))};vt.prototype.index=function(){return new bn(this._store.index.apply(this._store,arguments))};br(vt,"_store",["name","keyPath","indexNames","autoIncrement"]);nf(vt,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);zv(vt,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Ga(vt,"_store",IDBObjectStore,["deleteIndex"]);function As(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}As.prototype.objectStore=function(){return new vt(this._tx.objectStore.apply(this._tx,arguments))};br(As,"_tx",["objectStoreNames","mode"]);Ga(As,"_tx",IDBTransaction,["abort"]);function Qa(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new As(n)}Qa.prototype.createObjectStore=function(){return new vt(this._db.createObjectStore.apply(this._db,arguments))};br(Qa,"_db",["name","version","objectStoreNames"]);Ga(Qa,"_db",IDBDatabase,["deleteObjectStore","close"]);function Ya(t){this._db=t}Ya.prototype.transaction=function(){return new As(this._db.transaction.apply(this._db,arguments))};br(Ya,"_db",["name","version","objectStoreNames"]);Ga(Ya,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[vt,bn].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=Qk(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[bn,vt].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(o){if(!o){s(i);return}if(i.push(o.value),n!==void 0&&i.length==n){s(i);return}o.continue()})})})});function Xk(t,e,n){var r=tf(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Qa(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Ya(s)})}const qv="@firebase/installations",rf="0.5.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=1e4,Hv=`w:${rf}`,Kv="FIS_v2",Jk="https://firebaseinstallations.googleapis.com/v1",Zk=60*60*1e3,eC="installations",tC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ln=new wa(eC,tC,nC);function Wv(t){return t instanceof Or&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv({projectId:t}){return`${Jk}/projects/${t}/installations`}function Qv(t){return{token:t.token,requestStatus:2,expiresIn:iC(t.expiresIn),creationTime:Date.now()}}async function Yv(t,e){const r=(await e.json()).error;return Ln.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Xv({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rC(t,{refreshToken:e}){const n=Xv(t);return n.append("Authorization",sC(e)),n}async function Jv(t){const e=await t();return e.status>=500&&e.status<600?t():e}function iC(t){return Number(t.replace("s","000"))}function sC(t){return`${Kv} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,{fid:e}){const n=Gv(t),r=Xv(t),i={fid:e,authVersion:Kv,appId:t.appId,sdkVersion:Hv},s={method:"POST",headers:r,body:JSON.stringify(i)},o=await Jv(()=>fetch(n,s));if(o.ok){const a=await o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Qv(a.authToken)}}else throw await Yv("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^[cdef][\w-]{21}$/,tc="";function uC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=cC(t);return lC.test(n)?n:tc}catch{return tc}}function cC(t){return aC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function t0(t,e){const n=Xa(t);n0(n,e),hC(n,e)}function n0(t,e){const n=e0.get(t);if(!!n)for(const r of n)r(e)}function hC(t,e){const n=fC();n&&n.postMessage({key:t,fid:e}),dC()}let vn=null;function fC(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=t=>{n0(t.data.key,t.data.fid)}),vn}function dC(){e0.size===0&&vn&&(vn.close(),vn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-installations-database",mC=1,On="firebase-installations-store";let Vl=null;function sf(){return Vl||(Vl=Xk(pC,mC,t=>{switch(t.oldVersion){case 0:t.createObjectStore(On)}})),Vl}async function ea(t,e){const n=Xa(t),i=(await sf()).transaction(On,"readwrite"),s=i.objectStore(On),o=await s.get(n);return await s.put(e,n),await i.complete,(!o||o.fid!==e.fid)&&t0(t,e.fid),e}async function r0(t){const e=Xa(t),r=(await sf()).transaction(On,"readwrite");await r.objectStore(On).delete(e),await r.complete}async function Ja(t,e){const n=Xa(t),i=(await sf()).transaction(On,"readwrite"),s=i.objectStore(On),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.complete,a&&(!o||o.fid!==a.fid)&&t0(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){let e;const n=await Ja(t,r=>{const i=gC(r),s=yC(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===tc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gC(t){const e=t||{fid:uC(),registrationStatus:0};return i0(e)}function yC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ln.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vC(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wC(t)}:{installationEntry:e}}async function vC(t,e){try{const n=await oC(t,e);return ea(t,n)}catch(n){throw Wv(n)&&n.customData.serverCode===409?await r0(t):await ea(t,{fid:e.fid,registrationStatus:0}),n}}async function wC(t){let e=await Rp(t);for(;e.registrationStatus===1;)await Zv(100),e=await Rp(t);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await of(t);return r||n}return e}function Rp(t){return Ja(t,e=>{if(!e)throw Ln.create("installation-not-found");return i0(e)})}function i0(t){return EC(t)?{fid:t.fid,registrationStatus:0}:t}function EC(t){return t.registrationStatus===1&&t.registrationTime+bv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC({appConfig:t,platformLoggerProvider:e},n){const r=TC(t,n),i=rC(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={installation:{sdkVersion:Hv}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Jv(()=>fetch(r,a));if(l.ok){const u=await l.json();return Qv(u)}else throw await Yv("Generate Auth Token",l)}function TC(t,{fid:e}){return`${Gv(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t,e=!1){let n;const r=await Ja(t.appConfig,s=>{if(!s0(s))throw Ln.create("not-registered");const o=s.authToken;if(!e&&CC(o))return s;if(o.requestStatus===1)return n=IC(t,e),s;{if(!navigator.onLine)throw Ln.create("app-offline");const a=AC(s);return n=kC(t,a),a}});return n?await n:r.authToken}async function IC(t,e){let n=await Dp(t.appConfig);for(;n.authToken.requestStatus===1;)await Zv(100),n=await Dp(t.appConfig);const r=n.authToken;return r.requestStatus===0?af(t,e):r}function Dp(t){return Ja(t,e=>{if(!s0(e))throw Ln.create("not-registered");const n=e.authToken;return NC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kC(t,e){try{const n=await SC(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ea(t.appConfig,r),n}catch(n){if(Wv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await r0(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ea(t.appConfig,r)}throw n}}function s0(t){return t!==void 0&&t.registrationStatus===2}function CC(t){return t.requestStatus===2&&!_C(t)}function _C(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zk}function AC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NC(t){return t.requestStatus===1&&t.requestTime+bv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t){const e=t,{installationEntry:n,registrationPromise:r}=await of(e.appConfig);return r?r.catch(console.error):af(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e=!1){const n=t;return await DC(n.appConfig),(await af(n,e)).token}async function DC(t){const{registrationPromise:e}=await of(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){if(!t||!t.options)throw Ul("App Configuration");if(!t.name)throw Ul("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ul(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ul(t){return Ln.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="installations",PC="installations-internal",LC=t=>{const e=t.getProvider("app").getImmediate(),n=$C(e),r=us(e,"platform-logger");return{app:e,appConfig:n,platformLoggerProvider:r,_delete:()=>Promise.resolve()}},OC=t=>{const e=t.getProvider("app").getImmediate(),n=us(e,o0).getImmediate();return{getId:()=>xC(n),getToken:i=>RC(n,i)}};function MC(){_n(new Yt(o0,LC,"PUBLIC")),_n(new Yt(PC,OC,"PRIVATE"))}MC();mt(qv,rf);mt(qv,rf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="analytics",FC="firebase_id",VC="origin",UC=60*1e3,jC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=new eh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BC(t,e){const n=document.createElement("script");n.src=`${a0}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function zC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qC(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await l0(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ge.error(a)}t("config",i,s)}async function bC(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await l0(n);for(const l of o){const u=a.find(p=>p.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ge.error(s)}}function HC(t,e,n,r){async function i(s,o,a){try{s==="event"?await bC(t,e,n,o,a):s==="config"?await qC(t,e,n,r,o,a):t("set",o)}catch(l){Ge.error(l)}}return i}function KC(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=HC(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function WC(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(a0))return e;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},tt=new wa("analytics","Analytics",GC);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=30,YC=1e3;class XC{constructor(e={},n=YC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const u0=new XC;function JC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ZC(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:JC(r)},s=jC.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();((e=l.error)===null||e===void 0?void 0:e.message)&&(a=l.error.message)}catch{}throw tt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function e_(t,e=u0,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw tt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw tt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new r_;return setTimeout(async()=>{a.abort()},n!==void 0?n:UC),c0({appId:r,apiKey:i,measurementId:s},o,a,e)}async function c0(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=u0){const{appId:s,measurementId:o}=t;try{await t_(r,e)}catch(a){if(o)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=await ZC(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!n_(a)){if(i.deleteThrottleMetadata(s),o)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=Number(a.customData.httpStatus)===503?Rd(n,i.intervalMillis,QC):Rd(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,u),Ge.debug(`Calling attemptFetch again in ${l} millis`),c0(t,u,r,i)}}function t_(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(tt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function n_(t){if(!(t instanceof Or)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class r_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(){if(J1())try{await Z1()}catch(t){return Ge.warn(tt.create("indexeddb-unavailable",{errorInfo:t}).message),!1}else return Ge.warn(tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function s_(t,e,n,r,i,s,o){var a;const l=e_(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ge.error(g)),e.push(l);const u=i_().then(g=>{if(g)return r.getId()}),[c,p]=await Promise.all([l,u]);WC()||BC(s,c.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[VC]="firebase",d.update=!0,p!=null&&(d[FC]=p),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.app=e}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},$p=[];const Pp={};let jl="dataLayer",a_="gtag",Lp,h0,Op=!1;function l_(){const t=[];if(Pg()&&t.push("This is a browser extension environment."),eE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=tt.create("invalid-analytics-context",{errorInfo:e});Ge.warn(n.message)}}function u_(t,e,n){l_();const r=t.options.appId;if(!r)throw tt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tt.create("no-api-key");if(xi[r]!=null)throw tt.create("already-exists",{id:r});if(!Op){zC(jl);const{wrappedGtag:s,gtagCore:o}=KC(xi,$p,Pp,jl,a_);h0=s,Lp=o,Op=!0}return xi[r]=s_(t,$p,Pp,e,Lp,jl,n),new o_(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}function $_(t=Og()){t=it(t);const e=us(t,ta);return e.isInitialized()?e.getImmediate():h_(t)}function h_(t,e={}){const n=us(t,ta);if(n.isInitialized()){const i=n.getImmediate();if(Po(e,n.getOptions()))return i;throw tt.create("already-initialized")}return n.initialize({options:e})}function f_(t,e,n,r){t=it(t),c_(h0,xi[t.app.options.appId],e,n,r).catch(i=>Ge.error(i))}const Mp="@firebase/analytics",Fp="0.7.5";function d_(){_n(new Yt(ta,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return u_(r,i,n)},"PUBLIC")),_n(new Yt("analytics-internal",t,"PRIVATE")),mt(Mp,Fp),mt(Mp,Fp,"esm2017");function t(e){try{const n=e.getProvider(ta).getImmediate();return{logEvent:(r,i,s)=>f_(n,r,i,s)}}catch(n){throw tt.create("interop-component-reg-failed",{reason:n})}}}d_();export{R_ as A,v_ as B,E_ as D,k_ as K,S_ as N,C_ as Q,p_ as R,x_ as T,T_ as U,D_ as a,g_ as b,E1 as c,m_ as d,__ as f,$_ as g,w_ as i,A_ as m,I_ as n,N_ as p,H as r,y_ as u};
